{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Box,Paper,Grid,Button,Slider,FormControlLabel,Switch,Typography,FormControl,InputLabel,Select,MenuItem,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Chip,Divider,CircularProgress,Alert,Tooltip,IconButton,Collapse,List,ListItem,ListItemText}from'@mui/material';import ArrowUpwardIcon from'@mui/icons-material/ArrowUpward';import ArrowDownwardIcon from'@mui/icons-material/ArrowDownward';import ReplayIcon from'@mui/icons-material/Replay';import HelpOutlineIcon from'@mui/icons-material/HelpOutline';import BugReportIcon from'@mui/icons-material/BugReport';import ArrowUpward from'@mui/icons-material/ArrowUpward';import ArrowDownward from'@mui/icons-material/ArrowDownward';import SearchIcon from'@mui/icons-material/Search';import{experimentService,API_URL as DEFAULT_API_URL}from'../services/api';import{List as ListIcon}from'@mui/icons-material';/**\n * Component for experimenting with different boost factors and their impact on ranking\n * \n * @param {Object} props - Component props\n * @param {Array} props.originalResults - The original search results to re-rank\n * @param {string} props.query - The search query used to retrieve results\n * @param {function} props.onRunNewSearch - Callback function when user wants to run a new search\n */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BoostExperiment=_ref=>{let{originalResults,query,API_URL=DEFAULT_API_URL,onRunNewSearch}=_ref;const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[boostedResults,setBoostedResults]=useState(null);const[debugMode,setDebugMode]=useState(false);const[debugInfo,setDebugInfo]=useState(null);const[searchLoading,setSearchLoading]=useState(false);// Boost configuration state\nconst[boostConfig,setBoostConfig]=useState({// Citation boost\nenableCiteBoost:true,citeBoostWeight:1.0,// Recency boost\nenableRecencyBoost:true,recencyBoostWeight:1.0,recencyFunction:\"exponential\",// Changed to match backend default\nrecencyMultiplier:0.01,// Changed to match backend default\nrecencyMidpoint:36,// Document type boost\nenableDoctypeBoost:true,doctypeBoostWeight:1.0,// Refereed boost\nenableRefereedBoost:true,refereedBoostWeight:1.0,// Combination method\ncombinationMethod:\"sum\",// Field-specific query boosts (new addition)\nenableFieldBoosts:true,fieldBoosts:{title:2.0,abstract:3.0,author:1.5,year:0.5},// Query transformation options (new addition)\nqueryTransformation:{enableTermSplitting:true,enablePhrasePreservation:true}});// Function to transform the query based on the field boosts\nconst transformQuery=useCallback(originalQuery=>{if(!boostConfig.enableFieldBoosts){return originalQuery;}// Clean the original query\nconst cleanQuery=originalQuery.trim();if(!cleanQuery)return\"\";console.log(\"Transforming query:\",cleanQuery,\"with config:\",boostConfig.queryTransformation);// Create a simpler query format with field boosts - greatly simplified!\nconst parts=[];// For each field, add a boosted term\nObject.entries(boostConfig.fieldBoosts).forEach(_ref2=>{let[field,boost]=_ref2;if(boost>0){// Format the boost with one decimal place\nconst formattedBoost=parseFloat(boost).toFixed(1);// Handle phrase queries (if the original query contains spaces)\nif(cleanQuery.includes(' ')){parts.push(`${field}:\"${cleanQuery}\"^${formattedBoost}`);}else{parts.push(`${field}:${cleanQuery}^${formattedBoost}`);}}});// Join all parts with OR operators\nconst result=parts.join(\" OR \");console.log(\"Final transformed query:\",result);return result;},[boostConfig]);// Debug logging\nuseEffect(()=>{console.log('BoostExperiment mounted with:',{originalResultsLength:originalResults===null||originalResults===void 0?void 0:originalResults.length,query,boostConfig});// Log the transformed query for debugging\nif(query){const transformedQuery=transformQuery(query);console.log('Transformed query:',transformedQuery);}if((originalResults===null||originalResults===void 0?void 0:originalResults.length)>0){// COMPREHENSIVE LOGGING: Log the entire first result to see the complete structure\nconsole.log(\"CRITICAL: Complete structure of first result:\",JSON.stringify(originalResults[0],null,2));// Log much more detailed information about the original search results\nconst yearTypes=originalResults.map(r=>typeof r.year).filter((v,i,a)=>a.indexOf(v)===i);const sampleYears=originalResults.slice(0,5).map(r=>r.year);const hasArrayYears=originalResults.some(r=>Array.isArray(r.year));const yearStructure={types_present:yearTypes,sample_values:sampleYears,any_arrays:hasArrayYears,original_display:originalResults.slice(0,5).map(r=>({title:truncateText(r.title,30),year_display:r.year,year_type:typeof r.year,year_json:JSON.stringify(r.year)}))};console.log(\"CRITICAL DEBUGGING - Years in original results:\",yearStructure);// Check for alternative fields that might contain year information\nconst alternativeFields=originalResults.slice(0,3).map(r=>({title:truncateText(r.title,30),pub_year:r.pub_year,date:r.date,pubdate:r.pubdate,publication_year:r.publication_year,year_of_publication:r.year_of_publication}));console.log(\"CHECKING ALTERNATIVE YEAR FIELDS:\",alternativeFields);console.log(\"Sample result metadata:\",{citation:originalResults[0].citation_count,year:originalResults[0].year,year_type:typeof originalResults[0].year,doctype:originalResults[0].doctype,properties:originalResults[0].property});}},[originalResults,query,boostConfig]);// Apply the boost experiment\nconst applyBoosts=useCallback(async()=>{if(!originalResults||originalResults.length===0){setError('No original results to modify');return;}setLoading(true);setError(null);setDebugInfo(null);try{// CRITICAL DEBUG: Log what we're actually receiving\nconsole.log(\"CRITICAL DEBUG - Starting boost process with:\",{result_count:originalResults.length,all_years:originalResults.slice(0,5).map(r=>r.year),all_year_types:originalResults.slice(0,5).map(r=>typeof r.year),sample_full_results:originalResults.slice(0,3),has_undefined_years:originalResults.some(r=>r.year===undefined),has_null_years:originalResults.some(r=>r.year===null)});// Generate the transformed query - but don't use it for the boost experiment\n// We'll just log it for reference\nconst transformedQuery=transformQuery(query);console.log(\"Transformed query (for reference only):\",transformedQuery);// Log boost configuration values to verify they're being sent correctly\nconsole.log(\"CRITICAL DEBUG - Sending boost config:\",{enableCiteBoost:boostConfig.enableCiteBoost,citeBoostWeight:boostConfig.citeBoostWeight,enableRecencyBoost:boostConfig.enableRecencyBoost,recencyBoostWeight:boostConfig.recencyBoostWeight,enableDoctypeBoost:boostConfig.enableDoctypeBoost,doctypeBoostWeight:boostConfig.doctypeBoostWeight,enableRefereedBoost:boostConfig.enableRefereedBoost,refereedBoostWeight:boostConfig.refereedBoostWeight,combinationMethod:boostConfig.combinationMethod,fieldBoosts:boostConfig.fieldBoosts});// Ensure all weight values are properly converted to numbers\nconst normalizedBoostConfig={...boostConfig,citeBoostWeight:Number(boostConfig.citeBoostWeight),recencyBoostWeight:Number(boostConfig.recencyBoostWeight),doctypeBoostWeight:Number(boostConfig.doctypeBoostWeight),refereedBoostWeight:Number(boostConfig.refereedBoostWeight),fieldBoosts:{title:Number(boostConfig.fieldBoosts.title),abstract:Number(boostConfig.fieldBoosts.abstract),author:Number(boostConfig.fieldBoosts.author),year:Number(boostConfig.fieldBoosts.year)}};console.log(\"Normalized boost config with number values:\",normalizedBoostConfig);// Extensive logging to debug the metadata fields\nif(originalResults.length>0){console.log(\"DEBUGGING METADATA FIELDS - First 3 results:\",originalResults.slice(0,3).map(result=>({title:truncateText(result.title,30),year_type:typeof result.year,year_value:result.year,year_stringified:JSON.stringify(result.year),doctype_type:typeof result.doctype,doctype_value:result.doctype,property_type:typeof result.property,property_value:result.property,property_is_array:Array.isArray(result.property)})));}// CRITICAL FIX: Extract year from bibcode if available and year is null\nconst processedResults=originalResults.map(result=>{// For debugging, log the first few results\nif(result.rank&&result.rank<=5){console.log(`Processing result rank ${result.rank} - RAW DATA:`,result);}// Extract year from bibcode if possible and year is missing\nlet extractedYear=null;if((result.year===null||result.year===undefined)&&result.bibcode){// ADS bibcodes typically have year as the first 4 digits\nconst yearMatch=result.bibcode.match(/^(\\d{4})/);if(yearMatch&&yearMatch[1]){extractedYear=parseInt(yearMatch[1],10);console.log(`Successfully extracted year ${extractedYear} from bibcode ${result.bibcode} for \"${truncateText(result.title,30)}\"`);}}// Extract year from the URL if we still don't have a year\nif(extractedYear===null&&result.url){const urlYearMatch=result.url.match(/\\/abs\\/(\\d{4})/);if(urlYearMatch&&urlYearMatch[1]){extractedYear=parseInt(urlYearMatch[1],10);console.log(`Successfully extracted year ${extractedYear} from URL ${result.url} for \"${truncateText(result.title,30)}\"`);}}// Check if year is embedded in the title (sometimes in parentheses at the end)\nif(extractedYear===null&&result.title){const titleYearMatch=result.title.match(/\\((\\d{4})\\)/);if(titleYearMatch&&titleYearMatch[1]){extractedYear=parseInt(titleYearMatch[1],10);console.log(`Successfully extracted year ${extractedYear} from title for \"${truncateText(result.title,30)}\"`);}}// Last fallback - use a reasonable default if still needed\nif(extractedYear===null){// Use current year minus 3 as a more reasonable default (not too recent, not too old)\nextractedYear=new Date().getFullYear()-3;console.log(`Using fallback year ${extractedYear} for \"${truncateText(result.title,30)}\"`);}return{...result,citation_count:typeof result.citation_count==='number'?result.citation_count:0,// IMPORTANT: Use extracted year if original is null, preserving original otherwise\nyear:result.year===null||result.year===undefined?extractedYear:result.year,doctype:result.doctype||'',property:Array.isArray(result.property)?result.property:result.property?[result.property]:[]};});console.log('Sending boost experiment request with the first 3 results:',{first_three_processed:processedResults.slice(0,3).map(r=>{var _originalResults$find;return{title:truncateText(r.title,30),original_year:(_originalResults$find=originalResults.find(or=>or.title===r.title))===null||_originalResults$find===void 0?void 0:_originalResults$find.year,processed_year:r.year};})});// Make a direct API call to match the endpoint in the running backend\nconst response=await fetch(`${API_URL}/api/boost-experiment`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query,// Use the original query, not the transformed one\n// Only include transformedQuery if needed for debugging\n// transformedQuery,\nresults:processedResults,boostConfig:normalizedBoostConfig})});console.log('Boost experiment response status:',response.status);if(!response.ok){const errorText=await response.text();console.error('Boost experiment error:',errorText);throw new Error(`Failed to apply boosts: ${errorText}`);}const data=await response.json();console.log('Received boosted results:',data);setBoostedResults(data);// Store debug info about the first result for debugging panel\nif(data.results&&data.results.length>0){var _firstResult$boostFac,_firstResult$boostFac2,_firstResult$boostFac3,_firstResult$boostFac4;const firstResult=data.results[0];setDebugInfo({firstResult,citationFields:{citations:firstResult.citations,citation_count:firstResult.citation_count,citationCount:firstResult.citationCount},boostFields:{boostFactors:firstResult.boostFactors,citeBoost:firstResult.citeBoost||((_firstResult$boostFac=firstResult.boostFactors)===null||_firstResult$boostFac===void 0?void 0:_firstResult$boostFac.citeBoost)||0,recencyBoost:firstResult.recencyBoost||((_firstResult$boostFac2=firstResult.boostFactors)===null||_firstResult$boostFac2===void 0?void 0:_firstResult$boostFac2.recencyBoost)||0,doctypeBoost:firstResult.doctypeBoost||((_firstResult$boostFac3=firstResult.boostFactors)===null||_firstResult$boostFac3===void 0?void 0:_firstResult$boostFac3.doctypeBoost)||0,refereedBoost:firstResult.refereedBoost||((_firstResult$boostFac4=firstResult.boostFactors)===null||_firstResult$boostFac4===void 0?void 0:_firstResult$boostFac4.refereedBoost)||0,totalBoost:firstResult.totalBoost,finalBoost:firstResult.finalBoost},metadataFields:{year:firstResult.year,doctype:firstResult.doctype,property:firstResult.property}});}}catch(err){console.error('Error in boost experiment:',err);setError(err.message||\"Failed to apply boosts. Please check the console for details.\");}finally{setLoading(false);}},[API_URL,boostConfig,originalResults,query,transformQuery]);// Function to run a completely new search with current field weights\nconst runNewSearch=useCallback(()=>{if(!query){setError('No query to search with');return;}// Show loading indicator\nsetSearchLoading(true);try{// Generate the transformed query with current field weights\n// Add more detailed logging\nconsole.log(\"Original query before transformation:\",query);console.log(\"Field boost settings:\",boostConfig.fieldBoosts);const transformedQuery=transformQuery(query);console.log(\"Running new search with transformed query:\",transformedQuery);// Call the parent component's onRunNewSearch function if provided\nif(onRunNewSearch&&typeof onRunNewSearch==='function'){// Pass the transformed query (for field boosting) and current boost configuration to the parent\nonRunNewSearch(transformedQuery,boostConfig).then(()=>{setSearchLoading(false);console.log(\"New search completed successfully\");}).catch(err=>{console.error(\"Error running new search:\",err);setError(\"Failed to run new search: \"+(err.message||'Unknown error'));setSearchLoading(false);});}else{console.error(\"No onRunNewSearch function provided\");setError(\"Cannot run new search - feature not implemented by parent component\");setSearchLoading(false);}}catch(error){console.error(\"Error in runNewSearch:\",error);setError(\"Failed to transform query: \"+(error.message||'Unknown error'));setSearchLoading(false);}},[query,transformQuery,boostConfig,onRunNewSearch]);// Helper functions\nconst truncateText=(text,maxLength)=>{if(!text)return'';return text.length>maxLength?`${text.substring(0,maxLength)}...`:text;};const formatAuthors=authors=>{if(!authors)return'Unknown';if(typeof authors==='string'){return authors;}if(Array.isArray(authors)){return authors.slice(0,3).join(', ')+(authors.length>3?', et al.':'');}return'Unknown';};// Format rank change display\nconst formatRankChange=change=>{if(change>0){return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',color:'success.main'},children:[/*#__PURE__*/_jsx(ArrowUpwardIcon,{fontSize:\"small\",sx:{mr:0.5}}),change]});}else if(change<0){return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',color:'error.main'},children:[/*#__PURE__*/_jsx(ArrowDownwardIcon,{fontSize:\"small\",sx:{mr:0.5}}),Math.abs(change)]});}else{return'—';}};// Format boost factor display\nconst formatBoostFactor=value=>{if(value===undefined||value===null)return'—';return value.toFixed(2);};// Apply boosts whenever configuration changes\nuseEffect(()=>{if(originalResults&&originalResults.length>0){applyBoosts();}else{console.log('No original results to boost');}},[boostConfig,originalResults,applyBoosts]);// Enhanced debug component to inspect fields and values\nconst renderDebugPanel=()=>{if(!debugInfo)return null;return/*#__PURE__*/_jsxs(Box,{sx:{mt:2,mb:2,border:1,borderColor:'warning.light',p:2,borderRadius:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"warning.main\",gutterBottom:true,children:\"Debug Information\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Metadata Fields (Required for Boosts)\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,variant:\"outlined\",sx:{mb:2},children:/*#__PURE__*/_jsxs(Table,{size:\"small\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Field Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Present\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Value\"})]})}),/*#__PURE__*/_jsxs(TableBody,{children:[/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"citation_count\"}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.citation_count!==undefined?/*#__PURE__*/_jsx(Chip,{label:\"Yes\",size:\"small\",color:\"success\"}):/*#__PURE__*/_jsx(Chip,{label:\"No\",size:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.citation_count!==undefined?String(debugInfo.firstResult.citation_count):'N/A'})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"year\"}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.year!==undefined?/*#__PURE__*/_jsx(Chip,{label:\"Yes\",size:\"small\",color:\"success\"}):/*#__PURE__*/_jsx(Chip,{label:\"No\",size:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.year!==undefined?String(debugInfo.firstResult.year):'N/A'})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"doctype\"}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.doctype!==undefined?/*#__PURE__*/_jsx(Chip,{label:\"Yes\",size:\"small\",color:\"success\"}):/*#__PURE__*/_jsx(Chip,{label:\"No\",size:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.doctype!==undefined?String(debugInfo.firstResult.doctype):'N/A'})]}),/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"property\"}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.property!==undefined?/*#__PURE__*/_jsx(Chip,{label:\"Yes\",size:\"small\",color:\"success\"}):/*#__PURE__*/_jsx(Chip,{label:\"No\",size:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(TableCell,{children:debugInfo.firstResult.property!==undefined?Array.isArray(debugInfo.firstResult.property)?debugInfo.firstResult.property.join(', '):String(debugInfo.firstResult.property):'N/A'})]})]})]})}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Citation Fields\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,variant:\"outlined\",sx:{mb:2},children:/*#__PURE__*/_jsxs(Table,{size:\"small\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Field Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Present\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Value\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:Object.entries(debugInfo.citationFields).map(_ref3=>{let[field,value]=_ref3;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:field}),/*#__PURE__*/_jsx(TableCell,{children:value!==undefined&&value!==null?/*#__PURE__*/_jsx(Chip,{label:\"Yes\",size:\"small\",color:\"success\"}):/*#__PURE__*/_jsx(Chip,{label:\"No\",size:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(TableCell,{children:value!==undefined&&value!==null?String(value):'N/A'})]},field);})})]})}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"Boost Fields\"}),/*#__PURE__*/_jsx(TableContainer,{component:Paper,variant:\"outlined\",sx:{mb:2},children:/*#__PURE__*/_jsxs(Table,{size:\"small\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Field Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Present\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Value\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:Object.entries(debugInfo.boostFields).map(_ref4=>{let[field,value]=_ref4;return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:field}),/*#__PURE__*/_jsx(TableCell,{children:value!==undefined&&value!==null?/*#__PURE__*/_jsx(Chip,{label:\"Yes\",size:\"small\",color:\"success\"}):/*#__PURE__*/_jsx(Chip,{label:\"No\",size:\"small\",color:\"error\"})}),/*#__PURE__*/_jsx(TableCell,{children:field==='boostFactors'&&typeof value==='object'?/*#__PURE__*/_jsx(Typography,{variant:\"caption\",component:\"pre\",sx:{maxHeight:100,overflow:'auto'},children:JSON.stringify(value,null,2)}):value!==undefined&&value!==null?String(value):'N/A'})]},field);})})]})}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",gutterBottom:true,children:\"First Result Raw Data\"}),/*#__PURE__*/_jsx(Box,{component:\"pre\",sx:{maxHeight:200,overflow:'auto',fontSize:'0.75rem',bgcolor:'grey.100',p:1,borderRadius:1},children:JSON.stringify(debugInfo.firstResult,null,2)})]});};if(!originalResults||originalResults.length===0){return/*#__PURE__*/_jsx(Alert,{severity:\"warning\",children:\"No results available for boost experiment. Please perform a search first.\"});}const handleConfigChange=(field,value)=>{setBoostConfig(prev=>({...prev,[field]:value}));};// New handler for field boost changes\nconst handleFieldBoostChange=(field,value)=>{setBoostConfig(prev=>({...prev,fieldBoosts:{...prev.fieldBoosts,[field]:value}}));};// New handler for query transformation options\nconst handleQueryTransformationChange=(option,value)=>{setBoostConfig(prev=>({...prev,queryTransformation:{...prev.queryTransformation,[option]:value}}));};// New handler for text input changes - allow much higher values now\nconst handleTextInputChange=(field,event)=>{const value=parseFloat(event.target.value);if(!isNaN(value)&&value>=0){console.log(`Updating ${field} to ${value}`);handleConfigChange(field,value);}};// New handler for field boost text input changes - allow much higher values now\nconst handleFieldBoostTextInputChange=(field,event)=>{const value=parseFloat(event.target.value);if(!isNaN(value)&&value>=0){console.log(`Updating field boost ${field} to ${value}`);handleFieldBoostChange(field,value);}};// Render the boost controls section\nconst renderBoostControls=()=>/*#__PURE__*/_jsxs(Paper,{sx:{p:2,mb:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',justifyContent:'space-between',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:\"Boost Configuration\"}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(Button,{variant:\"contained\",color:\"primary\",size:\"small\",onClick:runNewSearch,disabled:searchLoading,sx:{ml:1},children:[searchLoading?/*#__PURE__*/_jsx(CircularProgress,{size:20,sx:{mr:1},color:\"inherit\"}):null,\"Apply Changes\"]})})]}),/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Field Boost Weights\"}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"Title Weight: \",boostConfig.fieldBoosts.title.toFixed(1)]}),/*#__PURE__*/_jsx(Slider,{value:boostConfig.fieldBoosts.title,onChange:(e,value)=>handleFieldBoostChange('title',value),min:0,max:20,step:0.1,valueLabelDisplay:\"auto\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"Abstract Weight: \",boostConfig.fieldBoosts.abstract.toFixed(1)]}),/*#__PURE__*/_jsx(Slider,{value:boostConfig.fieldBoosts.abstract,onChange:(e,value)=>handleFieldBoostChange('abstract',value),min:0,max:20,step:0.1,valueLabelDisplay:\"auto\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"Author Weight: \",boostConfig.fieldBoosts.author.toFixed(1)]}),/*#__PURE__*/_jsx(Slider,{value:boostConfig.fieldBoosts.author,onChange:(e,value)=>handleFieldBoostChange('author',value),min:0,max:20,step:0.1,valueLabelDisplay:\"auto\"})]})]}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,md:6,children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",gutterBottom:true,children:\"Citation & Recency Boost\"}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"Citation Boost: \",boostConfig.citeBoostWeight.toFixed(1)]}),/*#__PURE__*/_jsx(Slider,{value:boostConfig.citeBoostWeight,onChange:(e,value)=>handleTextInputChange('citeBoostWeight',e),min:0,max:5,step:0.1,valueLabelDisplay:\"auto\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{mb:2},children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",gutterBottom:true,children:[\"Recency Boost: \",boostConfig.recencyBoostWeight.toFixed(1)]}),/*#__PURE__*/_jsx(Slider,{value:boostConfig.recencyBoostWeight,onChange:(e,value)=>handleTextInputChange('recencyBoostWeight',e),min:0,max:5,step:0.1,valueLabelDisplay:\"auto\"})]})]})]})]});return/*#__PURE__*/_jsx(Box,{sx:{width:'100%',p:2},children:!originalResults||originalResults.length===0?/*#__PURE__*/_jsx(Alert,{severity:\"warning\",children:\"No results available for boost experiment. Please perform a search first.\"}):/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:renderBoostControls()}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:2},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center',mb:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{flexGrow:1},children:\"Ranking Results\"}),loading&&/*#__PURE__*/_jsx(CircularProgress,{size:24,sx:{ml:2}}),/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(BugReportIcon,{}),variant:\"outlined\",size:\"small\",color:\"warning\",onClick:()=>setDebugMode(!debugMode),sx:{ml:2},children:debugMode?'Hide Debug':'Debug Mode'})]}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),searchLoading&&/*#__PURE__*/_jsx(Alert,{severity:\"info\",sx:{mb:2},children:\"Fetching new results with updated field weights...\"}),/*#__PURE__*/_jsx(Collapse,{in:debugMode,children:renderDebugPanel()}),boostedResults&&boostedResults.results?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',mb:2},children:[/*#__PURE__*/_jsx(Box,{sx:{width:'50%',pr:1},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:1,bgcolor:'grey.100',borderRadius:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",align:\"center\",fontWeight:\"bold\",children:\"Original Results\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",align:\"center\",display:\"block\",color:\"text.secondary\",children:\"Default ranking without boosts\"})]})}),/*#__PURE__*/_jsx(Box,{sx:{width:'50%',pl:1},children:/*#__PURE__*/_jsxs(Paper,{sx:{p:1,bgcolor:'primary.light',color:'primary.contrastText',borderRadius:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",align:\"center\",fontWeight:\"bold\",children:\"Boosted Results\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",align:\"center\",display:\"block\",sx:{color:'rgba(255,255,255,0.8)'},children:\"Re-ranked based on current boost settings\"})]})})]}),/*#__PURE__*/_jsxs(Paper,{sx:{p:1,mb:2,bgcolor:'info.light',color:'info.contrastText'},children:[/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'center'},children:[/*#__PURE__*/_jsx(ListIcon,{sx:{mr:1}}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:\"Rank Change Summary\"})]}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:1,mt:1},children:[boostedResults.results.filter(r=>Math.abs(r.rankChange)>=3)// Only show significant changes\n.sort((a,b)=>Math.abs(b.rankChange)-Math.abs(a.rankChange))// Sort by absolute change magnitude\n.slice(0,5)// Show top 5 changes\n.map((result,idx)=>/*#__PURE__*/_jsx(Chip,{icon:result.rankChange>0?/*#__PURE__*/_jsx(ArrowUpward,{fontSize:\"small\"}):/*#__PURE__*/_jsx(ArrowDownward,{fontSize:\"small\"}),label:`${truncateText(result.title,20)}: ${result.rankChange>0?'+':''}${result.rankChange}`,color:result.rankChange>0?'success':'error',size:\"small\",sx:{fontWeight:'medium'}},idx)),boostedResults.results.filter(r=>Math.abs(r.rankChange)>=3).length===0&&/*#__PURE__*/_jsx(Typography,{variant:\"caption\",children:\"No significant rank changes detected\"})]})]}),/*#__PURE__*/_jsx(Box,{sx:{mb:2},children:/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'space-between',px:1},children:/*#__PURE__*/_jsxs(Typography,{variant:\"caption\",fontStyle:\"italic\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Connecting lines show matching items. Green indicates items that moved up, red indicates items that moved down.\"]})})}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',position:'relative'},children:[/*#__PURE__*/_jsx(Box,{sx:{width:'50%',pr:1,height:'65vh',overflow:'auto'},id:\"original-results-container\",children:/*#__PURE__*/_jsx(List,{sx:{bgcolor:'background.paper',border:'1px solid',borderColor:'divider',borderRadius:1},children:originalResults.map((result,index)=>{// Find matching boosted result\nconst boostedIndex=boostedResults.results.findIndex(r=>r.bibcode===result.bibcode||r.title===result.title);const boostedResult=boostedIndex!==-1?boostedResults.results[boostedIndex]:null;// Use the rankChange from the boosted result if available, but with opposite sign\nconst rankChange=boostedResult?-boostedResult.rankChange:0;// Determine border style based on magnitude of change\nlet borderStyle={};if(Math.abs(rankChange)>=5){// Major change - thicker border\nborderStyle={borderLeft:rankChange!==0?'6px solid':'none',borderLeftColor:rankChange>0?'success.main':rankChange<0?'error.main':'transparent',bgcolor:rankChange!==0?rankChange>0?'success.50':'error.50':'transparent'};}else if(rankChange!==0){// Minor change - standard border\nborderStyle={borderLeft:'4px solid',borderLeftColor:rankChange>0?'success.main':'error.main'};}return/*#__PURE__*/_jsx(Tooltip,{title:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:result.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Authors:\"}),\" \",formatAuthors(result.author)]}),result.abstract&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Abstract:\"}),\" \",truncateText(result.abstract,200)]}),boostedResult&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"New Rank:\"}),\" \",boostedIndex+1]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rank Change:\"}),\" \",rankChange>0?'+':'',rankChange]})]})]}),placement:\"left\",children:/*#__PURE__*/_jsxs(ListItem,{id:`original-item-${index}`,divider:true,sx:{px:2,py:1,position:'relative',...borderStyle,transition:'background-color 0.3s ease'},children:[/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"span\",sx:{minWidth:'24px',fontWeight:'bold',mr:1},children:index+1}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:'medium'},children:truncateText(result.title,60)}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:0.5,mt:0.5},children:[result.year&&/*#__PURE__*/_jsx(Chip,{label:`${result.year}`,size:\"small\",variant:\"outlined\",sx:{height:20,'& .MuiChip-label':{px:1,fontSize:'0.7rem'}}}),result.citation_count!==undefined&&/*#__PURE__*/_jsx(Chip,{label:`Citations: ${result.citation_count}`,size:\"small\",variant:\"outlined\",sx:{height:20,'& .MuiChip-label':{px:1,fontSize:'0.7rem'}}}),rankChange!==0&&/*#__PURE__*/_jsx(Chip,{icon:rankChange>0?/*#__PURE__*/_jsx(ArrowUpward,{fontSize:\"small\"}):/*#__PURE__*/_jsx(ArrowDownward,{fontSize:\"small\"}),label:`${rankChange>0?'+':''}${rankChange}`,size:\"small\",color:rankChange>0?'success':'error',sx:{height:20,'& .MuiChip-label':{px:1,fontSize:'0.7rem'},fontWeight:Math.abs(rankChange)>=5?'bold':'normal'}})]})]})]})}),boostedIndex!==-1&&/*#__PURE__*/_jsx(Box,{className:\"connector-point\",\"data-target\":`boosted-item-${boostedIndex}`,\"data-change\":rankChange,sx:{position:'absolute',right:0,height:'100%',width:4}})]},result.bibcode||result.title)},result.bibcode||index);})})}),/*#__PURE__*/_jsx(Box,{sx:{width:'50%',pl:1,height:'65vh',overflow:'auto'},id:\"boosted-results-container\",children:/*#__PURE__*/_jsx(List,{sx:{bgcolor:'background.paper',border:'1px solid',borderColor:'primary.light',borderRadius:1},children:boostedResults.results.map((result,index)=>{// Get the rankChange directly from the result\nconst rankChange=result.rankChange||0;// Determine border style based on magnitude of change\nlet borderStyle={};if(Math.abs(rankChange)>=5){// Major change - thicker border\nborderStyle={borderLeft:rankChange!==0?'6px solid':'none',borderLeftColor:rankChange>0?'success.main':rankChange<0?'error.main':'transparent',bgcolor:rankChange!==0?rankChange>0?'success.50':'error.50':'transparent'};}else if(rankChange!==0){// Minor change - standard border\nborderStyle={borderLeft:'4px solid',borderLeftColor:rankChange>0?'success.main':'error.main'};}// Get boost factors for this result\nconst boostFactors={};if(result.boostFactors){Object.entries(result.boostFactors).forEach(_ref5=>{let[key,value]=_ref5;boostFactors[key]=value;});}return/*#__PURE__*/_jsx(Tooltip,{title:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",children:result.title}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Authors:\"}),\" \",formatAuthors(result.author)]}),result.abstract&&/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Abstract:\"}),\" \",truncateText(result.abstract,200)]}),/*#__PURE__*/_jsx(Divider,{sx:{my:1}}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Original Rank:\"}),\" \",result.originalRank||'N/A']}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Rank Change:\"}),\" \",rankChange>0?'+':'',rankChange]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Boost Score:\"}),\" \",result.finalBoost?result.finalBoost.toFixed(2):'N/A']}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Applied Boosts:\"})}),/*#__PURE__*/_jsx(Box,{component:\"ul\",sx:{mt:0.5,pl:2},children:Object.entries(boostFactors).map(_ref6=>{let[key,value]=_ref6;return/*#__PURE__*/_jsxs(Typography,{component:\"li\",variant:\"caption\",children:[key,\": \",value&&value.toFixed?value.toFixed(2):value]},key);})})]}),placement:\"right\",children:/*#__PURE__*/_jsxs(ListItem,{id:`boosted-item-${index}`,divider:true,sx:{px:2,py:1,position:'relative',...borderStyle,transition:'background-color 0.3s ease'},children:[/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',alignItems:'flex-start'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"span\",sx:{minWidth:'24px',fontWeight:'bold',mr:1},children:index+1}),/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontWeight:'medium'},children:truncateText(result.title,60)}),/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexWrap:'wrap',gap:0.5,mt:0.5},children:[result.year&&/*#__PURE__*/_jsx(Chip,{label:`${result.year}`,size:\"small\",variant:\"outlined\",sx:{height:20,'& .MuiChip-label':{px:1,fontSize:'0.7rem'}}}),result.citation_count!==undefined&&/*#__PURE__*/_jsx(Chip,{label:`Citations: ${result.citation_count}`,size:\"small\",variant:\"outlined\",sx:{height:20,'& .MuiChip-label':{px:1,fontSize:'0.7rem'}}}),rankChange!==0&&/*#__PURE__*/_jsx(Chip,{icon:rankChange>0?/*#__PURE__*/_jsx(ArrowUpward,{fontSize:\"small\"}):/*#__PURE__*/_jsx(ArrowDownward,{fontSize:\"small\"}),label:`${rankChange>0?'+':''}${rankChange}`,size:\"small\",color:rankChange>0?'success':'error',sx:{height:20,'& .MuiChip-label':{px:1,fontSize:'0.7rem'},fontWeight:Math.abs(rankChange)>=5?'bold':'normal'}}),result.finalBoost!==undefined&&/*#__PURE__*/_jsx(Chip,{label:`Boost: ${result.finalBoost.toFixed(1)}`,size:\"small\",color:\"primary\",sx:{height:20,'& .MuiChip-label':{px:1,fontSize:'0.7rem'},fontWeight:'bold',bgcolor:`rgba(25, 118, 210, ${Math.min(result.finalBoost/20,1)})`}})]})]})]})}),result.originalRank&&/*#__PURE__*/_jsx(Box,{className:\"connector-point\",\"data-target\":`original-item-${result.originalRank-1}`,\"data-change\":rankChange,sx:{position:'absolute',left:0,height:'100%',width:4}})]},result.bibcode||result.title)},result.bibcode||index);})})})]}),/*#__PURE__*/_jsx(Box,{component:\"script\",dangerouslySetInnerHTML:{__html:`\n                    // Draw connecting lines between matching items when the component mounts\n                    setTimeout(function() {\n                      // Remove any existing connectors\n                      document.querySelectorAll('.result-connector').forEach(el => el.remove());\n                      \n                      // For each boosted result, find its original position and draw a line\n                      document.querySelectorAll('#boosted-results-container .connector-point').forEach(point => {\n                        const targetId = point.getAttribute('data-target');\n                        const rankChange = parseInt(point.getAttribute('data-change') || '0');\n                        \n                        if (!targetId) return;\n                        \n                        const targetEl = document.getElementById(targetId);\n                        if (!targetEl) return;\n                        \n                        // Get positions\n                        const boostedRect = point.getBoundingClientRect();\n                        const originalRect = targetEl.getBoundingClientRect();\n                        \n                        // Create connector\n                        const connector = document.createElement('div');\n                        connector.className = 'result-connector';\n                        \n                        // Set style\n                        connector.style.position = 'absolute';\n                        connector.style.zIndex = '10';\n                        connector.style.height = '2px';\n                        connector.style.opacity = '0.7';\n                        connector.style.pointerEvents = 'none';\n                        \n                        // Set color based on rank change\n                        if (rankChange > 0) {\n                          connector.style.backgroundColor = '#4caf50'; // success.main\n                        } else if (rankChange < 0) {\n                          connector.style.backgroundColor = '#f44336'; // error.main\n                        } else {\n                          connector.style.backgroundColor = '#9e9e9e'; // grey.500\n                        }\n                        \n                        // Get parent container\n                        const container = document.querySelector('.MuiGrid-container');\n                        \n                        // Calculate positions relative to the container\n                        const rect = container.getBoundingClientRect();\n                        \n                        const fromX = boostedRect.left - rect.left;\n                        const fromY = boostedRect.top - rect.top + boostedRect.height / 2;\n                        const toX = originalRect.right - rect.left;\n                        const toY = originalRect.top - rect.top + originalRect.height / 2;\n                        \n                        const length = Math.sqrt(Math.pow(toX - fromX, 2) + Math.pow(toY - fromY, 2));\n                        const angle = Math.atan2(toY - fromY, toX - fromX) * 180 / Math.PI;\n                        \n                        // Apply styles\n                        connector.style.width = length + 'px';\n                        connector.style.left = fromX + 'px';\n                        connector.style.top = fromY + 'px';\n                        connector.style.transform = 'rotate(' + angle + 'deg)';\n                        connector.style.transformOrigin = '0 0';\n                        \n                        // Add to document\n                        container.appendChild(connector);\n                      });\n                    }, 500);\n                  `}})]}):/*#__PURE__*/_jsx(Alert,{severity:\"info\",children:\"Configure and apply boost factors to see how they affect the ranking.\"})]})})]})});};export default BoostExperiment;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Box","Paper","Grid","Button","Slider","FormControlLabel","Switch","Typography","FormControl","InputLabel","Select","MenuItem","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","Divider","CircularProgress","Alert","Tooltip","IconButton","Collapse","List","ListItem","ListItemText","ArrowUpwardIcon","ArrowDownwardIcon","ReplayIcon","HelpOutlineIcon","BugReportIcon","ArrowUpward","ArrowDownward","SearchIcon","experimentService","API_URL","DEFAULT_API_URL","ListIcon","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BoostExperiment","_ref","originalResults","query","onRunNewSearch","loading","setLoading","error","setError","boostedResults","setBoostedResults","debugMode","setDebugMode","debugInfo","setDebugInfo","searchLoading","setSearchLoading","boostConfig","setBoostConfig","enableCiteBoost","citeBoostWeight","enableRecencyBoost","recencyBoostWeight","recencyFunction","recencyMultiplier","recencyMidpoint","enableDoctypeBoost","doctypeBoostWeight","enableRefereedBoost","refereedBoostWeight","combinationMethod","enableFieldBoosts","fieldBoosts","title","abstract","author","year","queryTransformation","enableTermSplitting","enablePhrasePreservation","transformQuery","originalQuery","cleanQuery","trim","console","log","parts","Object","entries","forEach","_ref2","field","boost","formattedBoost","parseFloat","toFixed","includes","push","result","join","originalResultsLength","length","transformedQuery","JSON","stringify","yearTypes","map","r","filter","v","i","a","indexOf","sampleYears","slice","hasArrayYears","some","Array","isArray","yearStructure","types_present","sample_values","any_arrays","original_display","truncateText","year_display","year_type","year_json","alternativeFields","pub_year","date","pubdate","publication_year","year_of_publication","citation","citation_count","doctype","properties","property","applyBoosts","result_count","all_years","all_year_types","sample_full_results","has_undefined_years","undefined","has_null_years","normalizedBoostConfig","Number","year_value","year_stringified","doctype_type","doctype_value","property_type","property_value","property_is_array","processedResults","rank","extractedYear","bibcode","yearMatch","match","parseInt","url","urlYearMatch","titleYearMatch","Date","getFullYear","first_three_processed","_originalResults$find","original_year","find","or","processed_year","response","fetch","method","headers","body","results","status","ok","errorText","text","Error","data","json","_firstResult$boostFac","_firstResult$boostFac2","_firstResult$boostFac3","_firstResult$boostFac4","firstResult","citationFields","citations","citationCount","boostFields","boostFactors","citeBoost","recencyBoost","doctypeBoost","refereedBoost","totalBoost","finalBoost","metadataFields","err","message","runNewSearch","then","catch","maxLength","substring","formatAuthors","authors","formatRankChange","change","sx","display","alignItems","color","children","fontSize","mr","Math","abs","formatBoostFactor","value","renderDebugPanel","mt","mb","border","borderColor","p","borderRadius","variant","gutterBottom","component","size","label","String","_ref3","_ref4","maxHeight","overflow","bgcolor","severity","handleConfigChange","prev","handleFieldBoostChange","handleQueryTransformationChange","option","handleTextInputChange","event","target","isNaN","handleFieldBoostTextInputChange","renderBoostControls","justifyContent","onClick","disabled","ml","container","spacing","item","xs","md","onChange","e","min","max","step","valueLabelDisplay","width","flexGrow","startIcon","in","pr","align","fontWeight","pl","flexWrap","gap","rankChange","sort","b","idx","icon","px","fontStyle","position","height","id","index","boostedIndex","findIndex","boostedResult","borderStyle","borderLeft","borderLeftColor","my","placement","divider","py","transition","primary","minWidth","className","right","_ref5","key","originalRank","_ref6","left","dangerouslySetInnerHTML","__html"],"sources":["/Users/JarmakS/SciX_Projects/SearchTool/search-comparisons/frontend/src/components/BoostExperiment.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport {\n  Box, Paper, Grid, Button,\n  Slider, FormControlLabel, Switch, Typography, FormControl,\n  InputLabel, Select, MenuItem, Table, TableBody, TableCell,\n  TableContainer, TableHead, TableRow, Chip, Divider,\n  CircularProgress, Alert, Tooltip, IconButton, Collapse, List, ListItem, ListItemText\n} from '@mui/material';\nimport ArrowUpwardIcon from '@mui/icons-material/ArrowUpward';\nimport ArrowDownwardIcon from '@mui/icons-material/ArrowDownward';\nimport ReplayIcon from '@mui/icons-material/Replay';\nimport HelpOutlineIcon from '@mui/icons-material/HelpOutline';\nimport BugReportIcon from '@mui/icons-material/BugReport';\nimport ArrowUpward from '@mui/icons-material/ArrowUpward';\nimport ArrowDownward from '@mui/icons-material/ArrowDownward';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { experimentService, API_URL as DEFAULT_API_URL } from '../services/api';\nimport { List as ListIcon } from '@mui/icons-material';\n\n/**\n * Component for experimenting with different boost factors and their impact on ranking\n * \n * @param {Object} props - Component props\n * @param {Array} props.originalResults - The original search results to re-rank\n * @param {string} props.query - The search query used to retrieve results\n * @param {function} props.onRunNewSearch - Callback function when user wants to run a new search\n */\nconst BoostExperiment = ({ originalResults, query, API_URL = DEFAULT_API_URL, onRunNewSearch }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [boostedResults, setBoostedResults] = useState(null);\n  const [debugMode, setDebugMode] = useState(false);\n  const [debugInfo, setDebugInfo] = useState(null);\n  const [searchLoading, setSearchLoading] = useState(false);\n  \n  // Boost configuration state\n  const [boostConfig, setBoostConfig] = useState({\n    // Citation boost\n    enableCiteBoost: true,\n    citeBoostWeight: 1.0,\n    \n    // Recency boost\n    enableRecencyBoost: true,\n    recencyBoostWeight: 1.0,\n    recencyFunction: \"exponential\", // Changed to match backend default\n    recencyMultiplier: 0.01, // Changed to match backend default\n    recencyMidpoint: 36,\n    \n    // Document type boost\n    enableDoctypeBoost: true,\n    doctypeBoostWeight: 1.0,\n    \n    // Refereed boost\n    enableRefereedBoost: true,\n    refereedBoostWeight: 1.0,\n    \n    // Combination method\n    combinationMethod: \"sum\",\n    \n    // Field-specific query boosts (new addition)\n    enableFieldBoosts: true,\n    fieldBoosts: {\n      title: 2.0,\n      abstract: 3.0,\n      author: 1.5,\n      year: 0.5,\n    },\n    \n    // Query transformation options (new addition)\n    queryTransformation: {\n      enableTermSplitting: true,\n      enablePhrasePreservation: true,\n    }\n  });\n  \n  // Function to transform the query based on the field boosts\n  const transformQuery = useCallback((originalQuery) => {\n    if (!boostConfig.enableFieldBoosts) {\n      return originalQuery;\n    }\n    \n    // Clean the original query\n    const cleanQuery = originalQuery.trim();\n    if (!cleanQuery) return \"\";\n    \n    console.log(\"Transforming query:\", cleanQuery, \"with config:\", boostConfig.queryTransformation);\n    \n    // Create a simpler query format with field boosts - greatly simplified!\n    const parts = [];\n    \n    // For each field, add a boosted term\n    Object.entries(boostConfig.fieldBoosts).forEach(([field, boost]) => {\n      if (boost > 0) {\n        // Format the boost with one decimal place\n        const formattedBoost = parseFloat(boost).toFixed(1);\n        \n        // Handle phrase queries (if the original query contains spaces)\n        if (cleanQuery.includes(' ')) {\n          parts.push(`${field}:\"${cleanQuery}\"^${formattedBoost}`);\n        } else {\n          parts.push(`${field}:${cleanQuery}^${formattedBoost}`);\n        }\n      }\n    });\n    \n    // Join all parts with OR operators\n    const result = parts.join(\" OR \");\n    console.log(\"Final transformed query:\", result);\n    return result;\n  }, [boostConfig]);\n  \n  // Debug logging\n  useEffect(() => {\n    console.log('BoostExperiment mounted with:', {\n      originalResultsLength: originalResults?.length,\n      query,\n      boostConfig\n    });\n    \n    // Log the transformed query for debugging\n    if (query) {\n      const transformedQuery = transformQuery(query);\n      console.log('Transformed query:', transformedQuery);\n    }\n    \n    if (originalResults?.length > 0) {\n      // COMPREHENSIVE LOGGING: Log the entire first result to see the complete structure\n      console.log(\"CRITICAL: Complete structure of first result:\", JSON.stringify(originalResults[0], null, 2));\n      \n      // Log much more detailed information about the original search results\n      const yearTypes = originalResults.map(r => typeof r.year).filter((v, i, a) => a.indexOf(v) === i);\n      const sampleYears = originalResults.slice(0, 5).map(r => r.year);\n      const hasArrayYears = originalResults.some(r => Array.isArray(r.year));\n      const yearStructure = {\n        types_present: yearTypes,\n        sample_values: sampleYears,\n        any_arrays: hasArrayYears,\n        original_display: originalResults.slice(0, 5).map(r => ({\n          title: truncateText(r.title, 30),\n          year_display: r.year,\n          year_type: typeof r.year,\n          year_json: JSON.stringify(r.year)\n        }))\n      };\n      \n      console.log(\"CRITICAL DEBUGGING - Years in original results:\", yearStructure);\n      \n      // Check for alternative fields that might contain year information\n      const alternativeFields = originalResults.slice(0, 3).map(r => ({\n        title: truncateText(r.title, 30),\n        pub_year: r.pub_year,\n        date: r.date,\n        pubdate: r.pubdate,\n        publication_year: r.publication_year,\n        year_of_publication: r.year_of_publication\n      }));\n      console.log(\"CHECKING ALTERNATIVE YEAR FIELDS:\", alternativeFields);\n      \n      console.log(\"Sample result metadata:\", {\n        citation: originalResults[0].citation_count,\n        year: originalResults[0].year,\n        year_type: typeof originalResults[0].year,\n        doctype: originalResults[0].doctype,\n        properties: originalResults[0].property\n      });\n    }\n  }, [originalResults, query, boostConfig]);\n  \n  // Apply the boost experiment\n  const applyBoosts = useCallback(async () => {\n    if (!originalResults || originalResults.length === 0) {\n      setError('No original results to modify');\n      return;\n    }\n    \n    setLoading(true);\n    setError(null);\n    setDebugInfo(null);\n    \n    try {\n      // CRITICAL DEBUG: Log what we're actually receiving\n      console.log(\"CRITICAL DEBUG - Starting boost process with:\", {\n        result_count: originalResults.length,\n        all_years: originalResults.slice(0, 5).map(r => r.year),\n        all_year_types: originalResults.slice(0, 5).map(r => typeof r.year),\n        sample_full_results: originalResults.slice(0, 3),\n        has_undefined_years: originalResults.some(r => r.year === undefined),\n        has_null_years: originalResults.some(r => r.year === null),\n      });\n      \n      // Generate the transformed query - but don't use it for the boost experiment\n      // We'll just log it for reference\n      const transformedQuery = transformQuery(query);\n      console.log(\"Transformed query (for reference only):\", transformedQuery);\n      \n      // Log boost configuration values to verify they're being sent correctly\n      console.log(\"CRITICAL DEBUG - Sending boost config:\", {\n        enableCiteBoost: boostConfig.enableCiteBoost,\n        citeBoostWeight: boostConfig.citeBoostWeight,\n        enableRecencyBoost: boostConfig.enableRecencyBoost,\n        recencyBoostWeight: boostConfig.recencyBoostWeight,\n        enableDoctypeBoost: boostConfig.enableDoctypeBoost,\n        doctypeBoostWeight: boostConfig.doctypeBoostWeight,\n        enableRefereedBoost: boostConfig.enableRefereedBoost,\n        refereedBoostWeight: boostConfig.refereedBoostWeight,\n        combinationMethod: boostConfig.combinationMethod,\n        fieldBoosts: boostConfig.fieldBoosts\n      });\n      \n      // Ensure all weight values are properly converted to numbers\n      const normalizedBoostConfig = {\n        ...boostConfig,\n        citeBoostWeight: Number(boostConfig.citeBoostWeight),\n        recencyBoostWeight: Number(boostConfig.recencyBoostWeight),\n        doctypeBoostWeight: Number(boostConfig.doctypeBoostWeight),\n        refereedBoostWeight: Number(boostConfig.refereedBoostWeight),\n        fieldBoosts: {\n          title: Number(boostConfig.fieldBoosts.title),\n          abstract: Number(boostConfig.fieldBoosts.abstract),\n          author: Number(boostConfig.fieldBoosts.author),\n          year: Number(boostConfig.fieldBoosts.year)\n        }\n      };\n      \n      console.log(\"Normalized boost config with number values:\", normalizedBoostConfig);\n      \n      // Extensive logging to debug the metadata fields\n      if (originalResults.length > 0) {\n        console.log(\"DEBUGGING METADATA FIELDS - First 3 results:\", originalResults.slice(0, 3).map(result => ({\n          title: truncateText(result.title, 30),\n          year_type: typeof result.year,\n          year_value: result.year,\n          year_stringified: JSON.stringify(result.year),\n          doctype_type: typeof result.doctype,\n          doctype_value: result.doctype,\n          property_type: typeof result.property,\n          property_value: result.property,\n          property_is_array: Array.isArray(result.property),\n        })));\n      }\n      \n      // CRITICAL FIX: Extract year from bibcode if available and year is null\n      const processedResults = originalResults.map(result => {\n        // For debugging, log the first few results\n        if (result.rank && result.rank <= 5) {\n          console.log(`Processing result rank ${result.rank} - RAW DATA:`, result);\n        }\n        \n        // Extract year from bibcode if possible and year is missing\n        let extractedYear = null;\n        if ((result.year === null || result.year === undefined) && result.bibcode) {\n          // ADS bibcodes typically have year as the first 4 digits\n          const yearMatch = result.bibcode.match(/^(\\d{4})/);\n          if (yearMatch && yearMatch[1]) {\n            extractedYear = parseInt(yearMatch[1], 10);\n            console.log(`Successfully extracted year ${extractedYear} from bibcode ${result.bibcode} for \"${truncateText(result.title, 30)}\"`);\n          }\n        }\n        \n        // Extract year from the URL if we still don't have a year\n        if (extractedYear === null && result.url) {\n          const urlYearMatch = result.url.match(/\\/abs\\/(\\d{4})/);\n          if (urlYearMatch && urlYearMatch[1]) {\n            extractedYear = parseInt(urlYearMatch[1], 10);\n            console.log(`Successfully extracted year ${extractedYear} from URL ${result.url} for \"${truncateText(result.title, 30)}\"`);\n          }\n        }\n        \n        // Check if year is embedded in the title (sometimes in parentheses at the end)\n        if (extractedYear === null && result.title) {\n          const titleYearMatch = result.title.match(/\\((\\d{4})\\)/);\n          if (titleYearMatch && titleYearMatch[1]) {\n            extractedYear = parseInt(titleYearMatch[1], 10);\n            console.log(`Successfully extracted year ${extractedYear} from title for \"${truncateText(result.title, 30)}\"`);\n          }\n        }\n        \n        // Last fallback - use a reasonable default if still needed\n        if (extractedYear === null) {\n          // Use current year minus 3 as a more reasonable default (not too recent, not too old)\n          extractedYear = new Date().getFullYear() - 3;\n          console.log(`Using fallback year ${extractedYear} for \"${truncateText(result.title, 30)}\"`);\n        }\n        \n        return {\n          ...result,\n          citation_count: typeof result.citation_count === 'number' ? result.citation_count : 0,\n          // IMPORTANT: Use extracted year if original is null, preserving original otherwise\n          year: (result.year === null || result.year === undefined) ? extractedYear : result.year,\n          doctype: result.doctype || '',\n          property: Array.isArray(result.property) ? result.property : \n                  (result.property ? [result.property] : [])\n        };\n      });\n      \n      console.log('Sending boost experiment request with the first 3 results:', {\n        first_three_processed: processedResults.slice(0, 3).map(r => ({\n          title: truncateText(r.title, 30),\n          original_year: originalResults.find(or => or.title === r.title)?.year,\n          processed_year: r.year\n        }))\n      });\n      \n      // Make a direct API call to match the endpoint in the running backend\n      const response = await fetch(`${API_URL}/api/boost-experiment`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          query, // Use the original query, not the transformed one\n          // Only include transformedQuery if needed for debugging\n          // transformedQuery,\n          results: processedResults,\n          boostConfig: normalizedBoostConfig\n        })\n      });\n      \n      console.log('Boost experiment response status:', response.status);\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('Boost experiment error:', errorText);\n        throw new Error(`Failed to apply boosts: ${errorText}`);\n      }\n      \n      const data = await response.json();\n      console.log('Received boosted results:', data);\n      setBoostedResults(data);\n      \n      // Store debug info about the first result for debugging panel\n      if (data.results && data.results.length > 0) {\n        const firstResult = data.results[0];\n        setDebugInfo({\n          firstResult,\n          citationFields: {\n            citations: firstResult.citations,\n            citation_count: firstResult.citation_count,\n            citationCount: firstResult.citationCount,\n          },\n          boostFields: {\n            boostFactors: firstResult.boostFactors,\n            citeBoost: firstResult.citeBoost || firstResult.boostFactors?.citeBoost || 0,\n            recencyBoost: firstResult.recencyBoost || firstResult.boostFactors?.recencyBoost || 0,\n            doctypeBoost: firstResult.doctypeBoost || firstResult.boostFactors?.doctypeBoost || 0,\n            refereedBoost: firstResult.refereedBoost || firstResult.boostFactors?.refereedBoost || 0,\n            totalBoost: firstResult.totalBoost,\n            finalBoost: firstResult.finalBoost,\n          },\n          metadataFields: {\n            year: firstResult.year,\n            doctype: firstResult.doctype,\n            property: firstResult.property,\n          }\n        });\n      }\n      \n    } catch (err) {\n      console.error('Error in boost experiment:', err);\n      setError(err.message || \"Failed to apply boosts. Please check the console for details.\");\n    } finally {\n      setLoading(false);\n    }\n  }, [API_URL, boostConfig, originalResults, query, transformQuery]);\n  \n  // Function to run a completely new search with current field weights\n  const runNewSearch = useCallback(() => {\n    if (!query) {\n      setError('No query to search with');\n      return;\n    }\n    \n    // Show loading indicator\n    setSearchLoading(true);\n    \n    try {\n      // Generate the transformed query with current field weights\n      // Add more detailed logging\n      console.log(\"Original query before transformation:\", query);\n      console.log(\"Field boost settings:\", boostConfig.fieldBoosts);\n      \n      const transformedQuery = transformQuery(query);\n      console.log(\"Running new search with transformed query:\", transformedQuery);\n      \n      // Call the parent component's onRunNewSearch function if provided\n      if (onRunNewSearch && typeof onRunNewSearch === 'function') {\n        // Pass the transformed query (for field boosting) and current boost configuration to the parent\n        onRunNewSearch(transformedQuery, boostConfig)\n          .then(() => {\n            setSearchLoading(false);\n            console.log(\"New search completed successfully\");\n          })\n          .catch(err => {\n            console.error(\"Error running new search:\", err);\n            setError(\"Failed to run new search: \" + (err.message || 'Unknown error'));\n            setSearchLoading(false);\n          });\n      } else {\n        console.error(\"No onRunNewSearch function provided\");\n        setError(\"Cannot run new search - feature not implemented by parent component\");\n        setSearchLoading(false);\n      }\n    } catch (error) {\n      console.error(\"Error in runNewSearch:\", error);\n      setError(\"Failed to transform query: \" + (error.message || 'Unknown error'));\n      setSearchLoading(false);\n    }\n  }, [query, transformQuery, boostConfig, onRunNewSearch]);\n  \n  // Helper functions\n  const truncateText = (text, maxLength) => {\n    if (!text) return '';\n    return text.length > maxLength ? `${text.substring(0, maxLength)}...` : text;\n  };\n\n  const formatAuthors = (authors) => {\n    if (!authors) return 'Unknown';\n    \n    if (typeof authors === 'string') {\n      return authors;\n    }\n    \n    if (Array.isArray(authors)) {\n      return authors.slice(0, 3).join(', ') + (authors.length > 3 ? ', et al.' : '');\n    }\n    \n    return 'Unknown';\n  };\n  \n  // Format rank change display\n  const formatRankChange = (change) => {\n    if (change > 0) {\n      return (\n        <Box sx={{ display: 'flex', alignItems: 'center', color: 'success.main' }}>\n          <ArrowUpwardIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n          {change}\n        </Box>\n      );\n    } else if (change < 0) {\n      return (\n        <Box sx={{ display: 'flex', alignItems: 'center', color: 'error.main' }}>\n          <ArrowDownwardIcon fontSize=\"small\" sx={{ mr: 0.5 }} />\n          {Math.abs(change)}\n        </Box>\n      );\n    } else {\n      return '—';\n    }\n  };\n  \n  // Format boost factor display\n  const formatBoostFactor = (value) => {\n    if (value === undefined || value === null) return '—';\n    return value.toFixed(2);\n  };\n  \n  // Apply boosts whenever configuration changes\n  useEffect(() => {\n    if (originalResults && originalResults.length > 0) {\n      applyBoosts();\n    } else {\n      console.log('No original results to boost');\n    }\n  }, [boostConfig, originalResults, applyBoosts]);\n  \n  // Enhanced debug component to inspect fields and values\n  const renderDebugPanel = () => {\n    if (!debugInfo) return null;\n    \n    return (\n      <Box sx={{ mt: 2, mb: 2, border: 1, borderColor: 'warning.light', p: 2, borderRadius: 1 }}>\n        <Typography variant=\"h6\" color=\"warning.main\" gutterBottom>\n          Debug Information\n        </Typography>\n        \n        <Typography variant=\"subtitle2\" gutterBottom>Metadata Fields (Required for Boosts)</Typography>\n        <TableContainer component={Paper} variant=\"outlined\" sx={{ mb: 2 }}>\n          <Table size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Field Name</TableCell>\n                <TableCell>Present</TableCell>\n                <TableCell>Value</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              <TableRow>\n                <TableCell>citation_count</TableCell>\n                <TableCell>\n                  {debugInfo.firstResult.citation_count !== undefined ? (\n                    <Chip label=\"Yes\" size=\"small\" color=\"success\" />\n                  ) : (\n                    <Chip label=\"No\" size=\"small\" color=\"error\" />\n                  )}\n                </TableCell>\n                <TableCell>{debugInfo.firstResult.citation_count !== undefined ? String(debugInfo.firstResult.citation_count) : 'N/A'}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>year</TableCell>\n                <TableCell>\n                  {debugInfo.firstResult.year !== undefined ? (\n                    <Chip label=\"Yes\" size=\"small\" color=\"success\" />\n                  ) : (\n                    <Chip label=\"No\" size=\"small\" color=\"error\" />\n                  )}\n                </TableCell>\n                <TableCell>{debugInfo.firstResult.year !== undefined ? String(debugInfo.firstResult.year) : 'N/A'}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>doctype</TableCell>\n                <TableCell>\n                  {debugInfo.firstResult.doctype !== undefined ? (\n                    <Chip label=\"Yes\" size=\"small\" color=\"success\" />\n                  ) : (\n                    <Chip label=\"No\" size=\"small\" color=\"error\" />\n                  )}\n                </TableCell>\n                <TableCell>{debugInfo.firstResult.doctype !== undefined ? String(debugInfo.firstResult.doctype) : 'N/A'}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>property</TableCell>\n                <TableCell>\n                  {debugInfo.firstResult.property !== undefined ? (\n                    <Chip label=\"Yes\" size=\"small\" color=\"success\" />\n                  ) : (\n                    <Chip label=\"No\" size=\"small\" color=\"error\" />\n                  )}\n                </TableCell>\n                <TableCell>{debugInfo.firstResult.property !== undefined ? \n                  (Array.isArray(debugInfo.firstResult.property) ? \n                    debugInfo.firstResult.property.join(', ') : \n                    String(debugInfo.firstResult.property)) : \n                  'N/A'}</TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n        </TableContainer>\n\n        <Typography variant=\"subtitle2\" gutterBottom>Citation Fields</Typography>\n        <TableContainer component={Paper} variant=\"outlined\" sx={{ mb: 2 }}>\n          <Table size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Field Name</TableCell>\n                <TableCell>Present</TableCell>\n                <TableCell>Value</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {Object.entries(debugInfo.citationFields).map(([field, value]) => (\n                <TableRow key={field}>\n                  <TableCell>{field}</TableCell>\n                  <TableCell>\n                    {value !== undefined && value !== null ? (\n                      <Chip label=\"Yes\" size=\"small\" color=\"success\" />\n                    ) : (\n                      <Chip label=\"No\" size=\"small\" color=\"error\" />\n                    )}\n                  </TableCell>\n                  <TableCell>{value !== undefined && value !== null ? String(value) : 'N/A'}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        \n        <Typography variant=\"subtitle2\" gutterBottom>Boost Fields</Typography>\n        <TableContainer component={Paper} variant=\"outlined\" sx={{ mb: 2 }}>\n          <Table size=\"small\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Field Name</TableCell>\n                <TableCell>Present</TableCell>\n                <TableCell>Value</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {Object.entries(debugInfo.boostFields).map(([field, value]) => (\n                <TableRow key={field}>\n                  <TableCell>{field}</TableCell>\n                  <TableCell>\n                    {value !== undefined && value !== null ? (\n                      <Chip label=\"Yes\" size=\"small\" color=\"success\" />\n                    ) : (\n                      <Chip label=\"No\" size=\"small\" color=\"error\" />\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    {field === 'boostFactors' && typeof value === 'object' ? (\n                      <Typography variant=\"caption\" component=\"pre\" sx={{ maxHeight: 100, overflow: 'auto' }}>\n                        {JSON.stringify(value, null, 2)}\n                      </Typography>\n                    ) : (\n                      value !== undefined && value !== null ? String(value) : 'N/A'\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        \n        <Typography variant=\"subtitle2\" gutterBottom>First Result Raw Data</Typography>\n        <Box \n          component=\"pre\" \n          sx={{ \n            maxHeight: 200, \n            overflow: 'auto', \n            fontSize: '0.75rem', \n            bgcolor: 'grey.100', \n            p: 1, \n            borderRadius: 1 \n          }}\n        >\n          {JSON.stringify(debugInfo.firstResult, null, 2)}\n        </Box>\n      </Box>\n    );\n  };\n  \n  if (!originalResults || originalResults.length === 0) {\n    return (\n      <Alert severity=\"warning\">\n        No results available for boost experiment. Please perform a search first.\n      </Alert>\n    );\n  }\n  \n  const handleConfigChange = (field, value) => {\n    setBoostConfig(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  \n  // New handler for field boost changes\n  const handleFieldBoostChange = (field, value) => {\n    setBoostConfig(prev => ({\n      ...prev,\n      fieldBoosts: {\n        ...prev.fieldBoosts,\n        [field]: value\n      }\n    }));\n  };\n  \n  // New handler for query transformation options\n  const handleQueryTransformationChange = (option, value) => {\n    setBoostConfig(prev => ({\n      ...prev,\n      queryTransformation: {\n        ...prev.queryTransformation,\n        [option]: value\n      }\n    }));\n  };\n  \n  // New handler for text input changes - allow much higher values now\n  const handleTextInputChange = (field, event) => {\n    const value = parseFloat(event.target.value);\n    if (!isNaN(value) && value >= 0) {\n      console.log(`Updating ${field} to ${value}`);\n      handleConfigChange(field, value);\n    }\n  };\n  \n  // New handler for field boost text input changes - allow much higher values now\n  const handleFieldBoostTextInputChange = (field, event) => {\n    const value = parseFloat(event.target.value);\n    if (!isNaN(value) && value >= 0) {\n      console.log(`Updating field boost ${field} to ${value}`);\n      handleFieldBoostChange(field, value);\n    }\n  };\n  \n  // Render the boost controls section\n  const renderBoostControls = () => (\n    <Paper sx={{ p: 2, mb: 2 }}>\n      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n        <Typography variant=\"h6\">Boost Configuration</Typography>\n        <Box>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={runNewSearch}\n            disabled={searchLoading}\n            sx={{ ml: 1 }}\n          >\n            {searchLoading ? <CircularProgress size={20} sx={{ mr: 1 }} color=\"inherit\" /> : null}\n            Apply Changes\n          </Button>\n        </Box>\n      </Box>\n      \n      <Grid container spacing={2}>\n        {/* Field Boost Controls */}\n        <Grid item xs={12} md={6}>\n          <Typography variant=\"subtitle1\" gutterBottom>Field Boost Weights</Typography>\n          \n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"body2\" gutterBottom>Title Weight: {boostConfig.fieldBoosts.title.toFixed(1)}</Typography>\n            <Slider\n              value={boostConfig.fieldBoosts.title}\n              onChange={(e, value) => handleFieldBoostChange('title', value)}\n              min={0}\n              max={20}\n              step={0.1}\n              valueLabelDisplay=\"auto\"\n            />\n          </Box>\n          \n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"body2\" gutterBottom>Abstract Weight: {boostConfig.fieldBoosts.abstract.toFixed(1)}</Typography>\n            <Slider\n              value={boostConfig.fieldBoosts.abstract}\n              onChange={(e, value) => handleFieldBoostChange('abstract', value)}\n              min={0}\n              max={20}\n              step={0.1}\n              valueLabelDisplay=\"auto\"\n            />\n          </Box>\n          \n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"body2\" gutterBottom>Author Weight: {boostConfig.fieldBoosts.author.toFixed(1)}</Typography>\n            <Slider\n              value={boostConfig.fieldBoosts.author}\n              onChange={(e, value) => handleFieldBoostChange('author', value)}\n              min={0}\n              max={20}\n              step={0.1}\n              valueLabelDisplay=\"auto\"\n            />\n          </Box>\n        </Grid>\n        \n        {/* Other Boost Controls */}\n        <Grid item xs={12} md={6}>\n          <Typography variant=\"subtitle1\" gutterBottom>Citation & Recency Boost</Typography>\n          \n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"body2\" gutterBottom>Citation Boost: {boostConfig.citeBoostWeight.toFixed(1)}</Typography>\n            <Slider\n              value={boostConfig.citeBoostWeight}\n              onChange={(e, value) => handleTextInputChange('citeBoostWeight', e)}\n              min={0}\n              max={5}\n              step={0.1}\n              valueLabelDisplay=\"auto\"\n            />\n          </Box>\n          \n          <Box sx={{ mb: 2 }}>\n            <Typography variant=\"body2\" gutterBottom>Recency Boost: {boostConfig.recencyBoostWeight.toFixed(1)}</Typography>\n            <Slider\n              value={boostConfig.recencyBoostWeight}\n              onChange={(e, value) => handleTextInputChange('recencyBoostWeight', e)}\n              min={0}\n              max={5}\n              step={0.1}\n              valueLabelDisplay=\"auto\"\n            />\n          </Box>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n  \n  return (\n    <Box sx={{ width: '100%', p: 2 }}>\n      {!originalResults || originalResults.length === 0 ? (\n        <Alert severity=\"warning\">\n          No results available for boost experiment. Please perform a search first.\n        </Alert>\n      ) : (\n        <Grid container spacing={2}>\n          {/* Boost Controls */}\n          <Grid item xs={12} md={4}>\n            {renderBoostControls()}\n          </Grid>\n\n          {/* Results Panel */}\n          <Grid item xs={12} md={8}>\n            <Paper sx={{ p: 2 }}>\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n                <Typography variant=\"h6\" sx={{ flexGrow: 1 }}>\n                  Ranking Results\n                </Typography>\n                {loading && <CircularProgress size={24} sx={{ ml: 2 }} />}\n                <Button\n                  startIcon={<BugReportIcon />}\n                  variant=\"outlined\"\n                  size=\"small\"\n                  color=\"warning\"\n                  onClick={() => setDebugMode(!debugMode)}\n                  sx={{ ml: 2 }}\n                >\n                  {debugMode ? 'Hide Debug' : 'Debug Mode'}\n                </Button>\n              </Box>\n\n              {error && (\n                <Alert severity=\"error\" sx={{ mb: 2 }}>\n                  {error}\n                </Alert>\n              )}\n\n              {searchLoading && (\n                <Alert severity=\"info\" sx={{ mb: 2 }}>\n                  Fetching new results with updated field weights...\n                </Alert>\n              )}\n\n              <Collapse in={debugMode}>\n                {renderDebugPanel()}\n              </Collapse>\n\n              {boostedResults && boostedResults.results ? (\n                <>\n                  <Box sx={{ display: 'flex', mb: 2 }}>\n                    {/* Title Headers */}\n                    <Box sx={{ width: '50%', pr: 1 }}>\n                      <Paper sx={{ p: 1, bgcolor: 'grey.100', borderRadius: 1 }}>\n                        <Typography variant=\"subtitle1\" align=\"center\" fontWeight=\"bold\">\n                          Original Results\n                        </Typography>\n                        <Typography variant=\"caption\" align=\"center\" display=\"block\" color=\"text.secondary\">\n                          Default ranking without boosts\n                        </Typography>\n                      </Paper>\n                    </Box>\n                    <Box sx={{ width: '50%', pl: 1 }}>\n                      <Paper sx={{ p: 1, bgcolor: 'primary.light', color: 'primary.contrastText', borderRadius: 1 }}>\n                        <Typography variant=\"subtitle1\" align=\"center\" fontWeight=\"bold\">\n                          Boosted Results\n                        </Typography>\n                        <Typography variant=\"caption\" align=\"center\" display=\"block\" sx={{ color: 'rgba(255,255,255,0.8)' }}>\n                          Re-ranked based on current boost settings\n                        </Typography>\n                      </Paper>\n                    </Box>\n                  </Box>\n                  \n                  {/* Summary of major rank changes */}\n                  <Paper sx={{ p: 1, mb: 2, bgcolor: 'info.light', color: 'info.contrastText' }}>\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n                      <ListIcon sx={{ mr: 1 }} />\n                      <Typography variant=\"subtitle2\">Rank Change Summary</Typography>\n                    </Box>\n                    <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mt: 1 }}>\n                      {boostedResults.results\n                        .filter(r => Math.abs(r.rankChange) >= 3) // Only show significant changes\n                        .sort((a, b) => Math.abs(b.rankChange) - Math.abs(a.rankChange)) // Sort by absolute change magnitude\n                        .slice(0, 5) // Show top 5 changes\n                        .map((result, idx) => (\n                          <Chip\n                            key={idx}\n                            icon={result.rankChange > 0 ? <ArrowUpward fontSize=\"small\" /> : <ArrowDownward fontSize=\"small\" />}\n                            label={`${truncateText(result.title, 20)}: ${result.rankChange > 0 ? '+' : ''}${result.rankChange}`}\n                            color={result.rankChange > 0 ? 'success' : 'error'}\n                            size=\"small\"\n                            sx={{ fontWeight: 'medium' }}\n                          />\n                        ))}\n                      {boostedResults.results.filter(r => Math.abs(r.rankChange) >= 3).length === 0 && (\n                        <Typography variant=\"caption\">No significant rank changes detected</Typography>\n                      )}\n                    </Box>\n                  </Paper>\n                  \n                  <Box sx={{ mb: 2 }}>\n                    <Box sx={{ display: 'flex', justifyContent: 'space-between', px: 1 }}>\n                      <Typography variant=\"caption\" fontStyle=\"italic\">\n                        <strong>Note:</strong> Connecting lines show matching items. Green indicates items that moved up, red indicates items that moved down.\n                      </Typography>\n                    </Box>\n                  </Box>\n                  \n                  <Box sx={{ display: 'flex', position: 'relative' }}>\n                    {/* Original Results */}\n                    <Box sx={{ width: '50%', pr: 1, height: '65vh', overflow: 'auto' }} id=\"original-results-container\">\n                      <List sx={{ bgcolor: 'background.paper', border: '1px solid', borderColor: 'divider', borderRadius: 1 }}>\n                        {originalResults.map((result, index) => {\n                          // Find matching boosted result\n                          const boostedIndex = boostedResults.results.findIndex(\n                            r => r.bibcode === result.bibcode || r.title === result.title\n                          );\n                          const boostedResult = boostedIndex !== -1 ? boostedResults.results[boostedIndex] : null;\n                          // Use the rankChange from the boosted result if available, but with opposite sign\n                          const rankChange = boostedResult ? -boostedResult.rankChange : 0;\n                          \n                          // Determine border style based on magnitude of change\n                          let borderStyle = {};\n                          if (Math.abs(rankChange) >= 5) {\n                            // Major change - thicker border\n                            borderStyle = {\n                              borderLeft: rankChange !== 0 ? '6px solid' : 'none',\n                              borderLeftColor: rankChange > 0 ? 'success.main' : rankChange < 0 ? 'error.main' : 'transparent',\n                              bgcolor: rankChange !== 0 ? (rankChange > 0 ? 'success.50' : 'error.50') : 'transparent'\n                            };\n                          } else if (rankChange !== 0) {\n                            // Minor change - standard border\n                            borderStyle = {\n                              borderLeft: '4px solid',\n                              borderLeftColor: rankChange > 0 ? 'success.main' : 'error.main',\n                            };\n                          }\n                          \n                          return (\n                            <Tooltip\n                              key={result.bibcode || index}\n                              title={\n                                <Box>\n                                  <Typography variant=\"subtitle2\">{result.title}</Typography>\n                                  <Typography variant=\"body2\">\n                                    <strong>Authors:</strong> {formatAuthors(result.author)}\n                                  </Typography>\n                                  {result.abstract && (\n                                    <Typography variant=\"body2\">\n                                      <strong>Abstract:</strong> {truncateText(result.abstract, 200)}\n                                    </Typography>\n                                  )}\n                                  {boostedResult && (\n                                    <>\n                                      <Divider sx={{ my: 1 }} />\n                                      <Typography variant=\"body2\">\n                                        <strong>New Rank:</strong> {boostedIndex + 1}\n                                      </Typography>\n                                      <Typography variant=\"body2\">\n                                        <strong>Rank Change:</strong> {rankChange > 0 ? '+' : ''}{rankChange}\n                                      </Typography>\n                                    </>\n                                  )}\n                                </Box>\n                              }\n                              placement=\"left\"\n                            >\n                              <ListItem \n                                id={`original-item-${index}`}\n                                key={result.bibcode || result.title} \n                                divider\n                                sx={{ \n                                  px: 2, \n                                  py: 1,\n                                  position: 'relative',\n                                  ...borderStyle,\n                                  transition: 'background-color 0.3s ease'\n                                }}\n                              >\n                                <ListItemText\n                                  primary={\n                                    <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n                                      <Typography \n                                        variant=\"body2\" \n                                        component=\"span\"\n                                        sx={{ \n                                          minWidth: '24px',\n                                          fontWeight: 'bold',\n                                          mr: 1\n                                        }}\n                                      >\n                                        {index + 1}\n                                      </Typography>\n                                      <Box>\n                                        <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\n                                          {truncateText(result.title, 60)}\n                                        </Typography>\n                                        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5, mt: 0.5 }}>\n                                          {result.year && (\n                                            <Chip \n                                              label={`${result.year}`} \n                                              size=\"small\" \n                                              variant=\"outlined\"\n                                              sx={{ height: 20, '& .MuiChip-label': { px: 1, fontSize: '0.7rem' } }}\n                                            />\n                                          )}\n                                          {result.citation_count !== undefined && (\n                                            <Chip \n                                              label={`Citations: ${result.citation_count}`} \n                                              size=\"small\"\n                                              variant=\"outlined\"\n                                              sx={{ height: 20, '& .MuiChip-label': { px: 1, fontSize: '0.7rem' } }}\n                                            />\n                                          )}\n                                          {rankChange !== 0 && (\n                                            <Chip \n                                              icon={rankChange > 0 ? <ArrowUpward fontSize=\"small\" /> : <ArrowDownward fontSize=\"small\" />}\n                                              label={`${rankChange > 0 ? '+' : ''}${rankChange}`}\n                                              size=\"small\"\n                                              color={rankChange > 0 ? 'success' : 'error'}\n                                              sx={{ \n                                                height: 20, \n                                                '& .MuiChip-label': { px: 1, fontSize: '0.7rem' },\n                                                fontWeight: Math.abs(rankChange) >= 5 ? 'bold' : 'normal'\n                                              }}\n                                            />\n                                          )}\n                                        </Box>\n                                      </Box>\n                                    </Box>\n                                  }\n                                />\n                                {boostedIndex !== -1 && (\n                                  <Box \n                                    className=\"connector-point\"\n                                    data-target={`boosted-item-${boostedIndex}`}\n                                    data-change={rankChange}\n                                    sx={{ \n                                      position: 'absolute', \n                                      right: 0, \n                                      height: '100%', \n                                      width: 4\n                                    }} \n                                  />\n                                )}\n                              </ListItem>\n                            </Tooltip>\n                          );\n                        })}\n                      </List>\n                    </Box>\n                    \n                    {/* Boosted Results */}\n                    <Box sx={{ width: '50%', pl: 1, height: '65vh', overflow: 'auto' }} id=\"boosted-results-container\">\n                      <List sx={{ bgcolor: 'background.paper', border: '1px solid', borderColor: 'primary.light', borderRadius: 1 }}>\n                        {boostedResults.results.map((result, index) => {\n                          // Get the rankChange directly from the result\n                          const rankChange = result.rankChange || 0;\n                          \n                          // Determine border style based on magnitude of change\n                          let borderStyle = {};\n                          if (Math.abs(rankChange) >= 5) {\n                            // Major change - thicker border\n                            borderStyle = {\n                              borderLeft: rankChange !== 0 ? '6px solid' : 'none',\n                              borderLeftColor: rankChange > 0 ? 'success.main' : rankChange < 0 ? 'error.main' : 'transparent',\n                              bgcolor: rankChange !== 0 ? (rankChange > 0 ? 'success.50' : 'error.50') : 'transparent'\n                            };\n                          } else if (rankChange !== 0) {\n                            // Minor change - standard border\n                            borderStyle = {\n                              borderLeft: '4px solid',\n                              borderLeftColor: rankChange > 0 ? 'success.main' : 'error.main',\n                            };\n                          }\n                          \n                          // Get boost factors for this result\n                          const boostFactors = {};\n                          if (result.boostFactors) {\n                            Object.entries(result.boostFactors).forEach(([key, value]) => {\n                              boostFactors[key] = value;\n                            });\n                          }\n                          \n                          return (\n                            <Tooltip\n                              key={result.bibcode || index}\n                              title={\n                                <Box>\n                                  <Typography variant=\"subtitle2\">{result.title}</Typography>\n                                  <Typography variant=\"body2\">\n                                    <strong>Authors:</strong> {formatAuthors(result.author)}\n                                  </Typography>\n                                  {result.abstract && (\n                                    <Typography variant=\"body2\">\n                                      <strong>Abstract:</strong> {truncateText(result.abstract, 200)}\n                                    </Typography>\n                                  )}\n                                  <Divider sx={{ my: 1 }} />\n                                  <Typography variant=\"body2\">\n                                    <strong>Original Rank:</strong> {result.originalRank || 'N/A'}\n                                  </Typography>\n                                  <Typography variant=\"body2\">\n                                    <strong>Rank Change:</strong> {rankChange > 0 ? '+' : ''}{rankChange}\n                                  </Typography>\n                                  <Typography variant=\"body2\">\n                                    <strong>Boost Score:</strong> {result.finalBoost ? result.finalBoost.toFixed(2) : 'N/A'}\n                                  </Typography>\n                                  <Typography variant=\"body2\">\n                                    <strong>Applied Boosts:</strong>\n                                  </Typography>\n                                  <Box component=\"ul\" sx={{ mt: 0.5, pl: 2 }}>\n                                    {Object.entries(boostFactors).map(([key, value]) => (\n                                      <Typography component=\"li\" variant=\"caption\" key={key}>\n                                        {key}: {value && value.toFixed ? value.toFixed(2) : value}\n                                      </Typography>\n                                    ))}\n                                  </Box>\n                                </Box>\n                              }\n                              placement=\"right\"\n                            >\n                              <ListItem \n                                id={`boosted-item-${index}`}\n                                key={result.bibcode || result.title} \n                                divider\n                                sx={{ \n                                  px: 2, \n                                  py: 1,\n                                  position: 'relative',\n                                  ...borderStyle,\n                                  transition: 'background-color 0.3s ease'\n                                }}\n                              >\n                                <ListItemText\n                                  primary={\n                                    <Box sx={{ display: 'flex', alignItems: 'flex-start' }}>\n                                      <Typography \n                                        variant=\"body2\" \n                                        component=\"span\"\n                                        sx={{ \n                                          minWidth: '24px',\n                                          fontWeight: 'bold',\n                                          mr: 1\n                                        }}\n                                      >\n                                        {index + 1}\n                                      </Typography>\n                                      <Box>\n                                        <Typography variant=\"body2\" sx={{ fontWeight: 'medium' }}>\n                                          {truncateText(result.title, 60)}\n                                        </Typography>\n                                        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5, mt: 0.5 }}>\n                                          {result.year && (\n                                            <Chip \n                                              label={`${result.year}`} \n                                              size=\"small\" \n                                              variant=\"outlined\"\n                                              sx={{ height: 20, '& .MuiChip-label': { px: 1, fontSize: '0.7rem' } }}\n                                            />\n                                          )}\n                                          {result.citation_count !== undefined && (\n                                            <Chip \n                                              label={`Citations: ${result.citation_count}`} \n                                              size=\"small\"\n                                              variant=\"outlined\"\n                                              sx={{ height: 20, '& .MuiChip-label': { px: 1, fontSize: '0.7rem' } }}\n                                            />\n                                          )}\n                                          {rankChange !== 0 && (\n                                            <Chip \n                                              icon={rankChange > 0 ? <ArrowUpward fontSize=\"small\" /> : <ArrowDownward fontSize=\"small\" />}\n                                              label={`${rankChange > 0 ? '+' : ''}${rankChange}`}\n                                              size=\"small\"\n                                              color={rankChange > 0 ? 'success' : 'error'}\n                                              sx={{ \n                                                height: 20, \n                                                '& .MuiChip-label': { px: 1, fontSize: '0.7rem' },\n                                                fontWeight: Math.abs(rankChange) >= 5 ? 'bold' : 'normal'\n                                              }}\n                                            />\n                                          )}\n                                          {result.finalBoost !== undefined && (\n                                            <Chip \n                                              label={`Boost: ${result.finalBoost.toFixed(1)}`} \n                                              size=\"small\"\n                                              color=\"primary\"\n                                              sx={{ \n                                                height: 20, \n                                                '& .MuiChip-label': { px: 1, fontSize: '0.7rem' },\n                                                fontWeight: 'bold', \n                                                bgcolor: `rgba(25, 118, 210, ${Math.min(result.finalBoost / 20, 1)})`\n                                              }}\n                                            />\n                                          )}\n                                        </Box>\n                                      </Box>\n                                    </Box>\n                                  }\n                                />\n                                {result.originalRank && (\n                                  <Box \n                                    className=\"connector-point\"\n                                    data-target={`original-item-${result.originalRank - 1}`}\n                                    data-change={rankChange}\n                                    sx={{ \n                                      position: 'absolute', \n                                      left: 0, \n                                      height: '100%', \n                                      width: 4\n                                    }} \n                                  />\n                                )}\n                              </ListItem>\n                            </Tooltip>\n                          );\n                        })}\n                      </List>\n                    </Box>\n                  </Box>\n                  \n                  {/* Add useEffect to draw connecting lines between matching items */}\n                  <Box component=\"script\" dangerouslySetInnerHTML={{ __html: `\n                    // Draw connecting lines between matching items when the component mounts\n                    setTimeout(function() {\n                      // Remove any existing connectors\n                      document.querySelectorAll('.result-connector').forEach(el => el.remove());\n                      \n                      // For each boosted result, find its original position and draw a line\n                      document.querySelectorAll('#boosted-results-container .connector-point').forEach(point => {\n                        const targetId = point.getAttribute('data-target');\n                        const rankChange = parseInt(point.getAttribute('data-change') || '0');\n                        \n                        if (!targetId) return;\n                        \n                        const targetEl = document.getElementById(targetId);\n                        if (!targetEl) return;\n                        \n                        // Get positions\n                        const boostedRect = point.getBoundingClientRect();\n                        const originalRect = targetEl.getBoundingClientRect();\n                        \n                        // Create connector\n                        const connector = document.createElement('div');\n                        connector.className = 'result-connector';\n                        \n                        // Set style\n                        connector.style.position = 'absolute';\n                        connector.style.zIndex = '10';\n                        connector.style.height = '2px';\n                        connector.style.opacity = '0.7';\n                        connector.style.pointerEvents = 'none';\n                        \n                        // Set color based on rank change\n                        if (rankChange > 0) {\n                          connector.style.backgroundColor = '#4caf50'; // success.main\n                        } else if (rankChange < 0) {\n                          connector.style.backgroundColor = '#f44336'; // error.main\n                        } else {\n                          connector.style.backgroundColor = '#9e9e9e'; // grey.500\n                        }\n                        \n                        // Get parent container\n                        const container = document.querySelector('.MuiGrid-container');\n                        \n                        // Calculate positions relative to the container\n                        const rect = container.getBoundingClientRect();\n                        \n                        const fromX = boostedRect.left - rect.left;\n                        const fromY = boostedRect.top - rect.top + boostedRect.height / 2;\n                        const toX = originalRect.right - rect.left;\n                        const toY = originalRect.top - rect.top + originalRect.height / 2;\n                        \n                        const length = Math.sqrt(Math.pow(toX - fromX, 2) + Math.pow(toY - fromY, 2));\n                        const angle = Math.atan2(toY - fromY, toX - fromX) * 180 / Math.PI;\n                        \n                        // Apply styles\n                        connector.style.width = length + 'px';\n                        connector.style.left = fromX + 'px';\n                        connector.style.top = fromY + 'px';\n                        connector.style.transform = 'rotate(' + angle + 'deg)';\n                        connector.style.transformOrigin = '0 0';\n                        \n                        // Add to document\n                        container.appendChild(connector);\n                      });\n                    }, 500);\n                  `}} />\n                </>\n              ) : (\n                <Alert severity=\"info\">\n                  Configure and apply boost factors to see how they affect the ranking.\n                </Alert>\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n      )}\n    </Box>\n  );\n};\n\nexport default BoostExperiment; "],"mappings":"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B,cAAa,iBAAiB/M,MAAM,CAACmN,YAAY,CAAG,CAAC,EAAG,CACxD,cAAa5B,UAAW,CACxBlE,EAAE,CAAE,CACFyE,QAAQ,CAAE,UAAU,CACpBuB,IAAI,CAAE,CAAC,CACPtB,MAAM,CAAE,MAAM,CACdlB,KAAK,CAAE,CACT,CAAE,CACH,CACF,GAxFI7K,MAAM,CAAC6D,OAAO,EAAI7D,MAAM,CAACzB,KAyFtB,CAAC,EA/HNyB,MAAM,CAAC6D,OAAO,EAAIoI,KAgIhB,CAAC,CAEd,CAAC,CAAC,CACE,CAAC,CACJ,CAAC,EACH,CAAC,cAGNhQ,IAAA,CAACzC,GAAG,EAACiP,SAAS,CAAC,QAAQ,CAAC6E,uBAAuB,CAAE,CAAEC,MAAM,CAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,CAAE,CAAE,CAAC,EACN,CAAC,cAEHtR,IAAA,CAACpB,KAAK,EAACqO,QAAQ,CAAC,MAAM,CAAAzB,QAAA,CAAC,uEAEvB,CAAO,CACR,EACI,CAAC,CACJ,CAAC,EACH,CACP,CACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAnL,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}