{"ast":null,"code":"var _jsxFileName = \"/Users/JarmakS/SciX_Projects/SearchTool/search-comparisons/frontend/src/components/QuepidEvaluation.js\",\n  _s = $RefreshSig$();\n/**\n * Quepid Evaluation component for search-comparisons application.\n * \n * This component provides UI for evaluating search results against\n * Quepid judgments, calculating metrics like nDCG@10.\n */\nimport React, { useState, useEffect } from 'react';\nimport { experimentService } from '../services/api';\nimport { Container, Typography, TextField, Button, Box, Card, CardContent, Chip, FormGroup, FormControlLabel, Checkbox, Grid, List, ListItem, ListItemText, Alert, CircularProgress, Accordion, AccordionSummary, AccordionDetails, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, Divider } from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n\n// Available search sources\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AVAILABLE_SOURCES = [{\n  id: 'ads',\n  name: 'ADS/SciX'\n}, {\n  id: 'scholar',\n  name: 'Google Scholar'\n}, {\n  id: 'semantic_scholar',\n  name: 'Semantic Scholar'\n}, {\n  id: 'web_of_science',\n  name: 'Web of Science'\n}];\nconst QuepidEvaluation = () => {\n  _s();\n  // State for search parameters\n  const [query, setQuery] = useState('');\n  const [caseId, setCaseId] = useState('');\n  const [maxResults, setMaxResults] = useState(20);\n  const [selectedSources, setSelectedSources] = useState(['ads', 'scholar', 'semantic_scholar']);\n\n  // State for UI\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [results, setResults] = useState(null);\n\n  // Function to toggle a search source\n  const toggleSource = sourceId => {\n    if (selectedSources.includes(sourceId)) {\n      setSelectedSources(selectedSources.filter(id => id !== sourceId));\n    } else {\n      setSelectedSources([...selectedSources, sourceId]);\n    }\n  };\n\n  // Function to evaluate search results with Quepid\n  const handleEvaluate = async () => {\n    // Clear previous state\n    setError(null);\n    setSuccessMessage(null);\n    setResults(null);\n\n    // Validate inputs\n    if (!query.trim()) {\n      setError('Please enter a search query');\n      return;\n    }\n    if (!caseId || isNaN(parseInt(caseId))) {\n      setError('Please enter a valid case ID');\n      return;\n    }\n    if (selectedSources.length === 0) {\n      setError('Please select at least one search source');\n      return;\n    }\n\n    // Prepare the evaluation request\n    const evaluationRequest = {\n      query: query.trim(),\n      sources: selectedSources,\n      case_id: parseInt(caseId),\n      max_results: maxResults\n    };\n\n    // Call the API\n    setIsLoading(true);\n    try {\n      const response = await experimentService.evaluateWithQuepid(evaluationRequest);\n      if (response.error) {\n        setError(response.message || 'Error evaluating search results');\n      } else {\n        setResults(response);\n        setSuccessMessage('Evaluation completed successfully');\n      }\n    } catch (error) {\n      setError('Error connecting to the server');\n      console.error('Quepid evaluation error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Function to render the evaluation results\n  const renderResults = () => {\n    if (!results) return null;\n    return /*#__PURE__*/_jsxDEV(Box, {\n      mt: 4,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: [\"Evaluation Results for \\\"\", results.query, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mb: 2,\n        children: [/*#__PURE__*/_jsxDEV(Chip, {\n          label: `Case: ${results.case_name}`,\n          color: \"primary\",\n          variant: \"outlined\",\n          sx: {\n            marginRight: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: `Total judged: ${results.total_judged}`,\n          color: \"primary\",\n          variant: \"outlined\",\n          sx: {\n            marginRight: 1\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Chip, {\n          label: `Total relevant: ${results.total_relevant}`,\n          color: \"primary\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), results.available_queries && results.available_queries.length > 0 && /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"info\",\n        sx: {\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: \"Note: The exact query was not found. Here are some available queries in this case:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 1,\n            mt: 1\n          },\n          children: results.available_queries.map((q, i) => /*#__PURE__*/_jsxDEV(Chip, {\n            label: q,\n            size: \"small\",\n            onClick: () => setQuery(q),\n            color: \"primary\"\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n        component: Paper,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          children: [/*#__PURE__*/_jsxDEV(TableHead, {\n            children: /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Source\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"nDCG@10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Precision@10\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Recall\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Judged/Relevant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n            children: results.source_results.map(sourceResult => {\n              // Find metrics\n              const ndcg10 = sourceResult.metrics.find(m => m.name === 'ndcg@10');\n              const precision10 = sourceResult.metrics.find(m => m.name === 'p@10');\n              const recall = sourceResult.metrics.find(m => m.name === 'recall');\n              return /*#__PURE__*/_jsxDEV(TableRow, {\n                children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                  children: getSourceName(sourceResult.source)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: ndcg10 ? ndcg10.value.toFixed(3) : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: precision10 ? precision10.value.toFixed(3) : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: recall ? recall.value.toFixed(3) : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                  children: [sourceResult.judged_retrieved, \"/\", sourceResult.relevant_retrieved, \" of \", sourceResult.results_count]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 195,\n                  columnNumber: 21\n                }, this)]\n              }, sourceResult.source, true, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        mt: 4,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          gutterBottom: true,\n          children: \"Detailed Metrics\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), results.source_results.map(sourceResult => /*#__PURE__*/_jsxDEV(Accordion, {\n          children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n            expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 45\n            }, this),\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              children: getSourceName(sourceResult.source)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n            children: /*#__PURE__*/_jsxDEV(TableContainer, {\n              children: /*#__PURE__*/_jsxDEV(Table, {\n                size: \"small\",\n                children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                  children: /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      children: \"Metric\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 220,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: \"Value\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 221,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: \"Description\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 222,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 219,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                  children: sourceResult.metrics.map((metric, idx) => /*#__PURE__*/_jsxDEV(TableRow, {\n                    children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                      children: metric.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 228,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: metric.value.toFixed(3)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                      children: metric.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 230,\n                      columnNumber: 27\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this)]\n        }, sourceResult.source, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Helper function to get source display name\n  const getSourceName = sourceId => {\n    const source = AVAILABLE_SOURCES.find(s => s.id === sourceId);\n    return source ? source.name : sourceId;\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: /*#__PURE__*/_jsxDEV(Box, {\n      my: 4,\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h4\",\n        component: \"h1\",\n        gutterBottom: true,\n        children: \"Quepid Evaluation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        paragraph: true,\n        children: \"Evaluate search results against Quepid relevance judgments to measure the effectiveness of search algorithms.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Card, {\n        sx: {\n          mb: 4\n        },\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Evaluation Parameters\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            spacing: 3,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Search Query\",\n                fullWidth: true,\n                margin: \"normal\",\n                value: query,\n                onChange: e => setQuery(e.target.value),\n                placeholder: \"Enter search query\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Quepid Case ID\",\n                fullWidth: true,\n                margin: \"normal\",\n                value: caseId,\n                onChange: e => setCaseId(e.target.value),\n                placeholder: \"Enter your Quepid case ID\",\n                type: \"number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                label: \"Max Results\",\n                fullWidth: true,\n                margin: \"normal\",\n                value: maxResults,\n                onChange: e => setMaxResults(parseInt(e.target.value) || 20),\n                placeholder: \"Maximum number of results\",\n                type: \"number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              md: 6,\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle1\",\n                gutterBottom: true,\n                children: \"Search Sources\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                children: AVAILABLE_SOURCES.map(source => /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    checked: selectedSources.includes(source.id),\n                    onChange: () => toggleSource(source.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 25\n                  }, this),\n                  label: source.name\n                }, source.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            mt: 3,\n            textAlign: \"center\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: handleEvaluate,\n              disabled: isLoading,\n              size: \"large\",\n              children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                size: 24\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 30\n              }, this) : 'Evaluate Search Results'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            sx: {\n              mt: 2\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), successMessage && /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"success\",\n            sx: {\n              mt: 2\n            },\n            children: successMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), renderResults()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }, this);\n};\n_s(QuepidEvaluation, \"AC//MMuFduXU7guJqUL8rhOOxTA=\");\n_c = QuepidEvaluation;\nexport default QuepidEvaluation;\nvar _c;\n$RefreshReg$(_c, \"QuepidEvaluation\");","map":{"version":3,"names":["React","useState","useEffect","experimentService","Container","Typography","TextField","Button","Box","Card","CardContent","Chip","FormGroup","FormControlLabel","Checkbox","Grid","List","ListItem","ListItemText","Alert","CircularProgress","Accordion","AccordionSummary","AccordionDetails","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Divider","ExpandMoreIcon","jsxDEV","_jsxDEV","AVAILABLE_SOURCES","id","name","QuepidEvaluation","_s","query","setQuery","caseId","setCaseId","maxResults","setMaxResults","selectedSources","setSelectedSources","isLoading","setIsLoading","error","setError","successMessage","setSuccessMessage","results","setResults","toggleSource","sourceId","includes","filter","handleEvaluate","trim","isNaN","parseInt","length","evaluationRequest","sources","case_id","max_results","response","evaluateWithQuepid","message","console","renderResults","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","mb","label","case_name","color","sx","marginRight","total_judged","total_relevant","available_queries","severity","display","flexWrap","gap","map","q","i","size","onClick","component","source_results","sourceResult","ndcg10","metrics","find","m","precision10","recall","getSourceName","source","value","toFixed","judged_retrieved","relevant_retrieved","results_count","expandIcon","metric","idx","description","s","maxWidth","my","paragraph","container","spacing","item","xs","md","fullWidth","margin","onChange","e","target","placeholder","type","control","checked","textAlign","disabled","_c","$RefreshReg$"],"sources":["/Users/JarmakS/SciX_Projects/SearchTool/search-comparisons/frontend/src/components/QuepidEvaluation.js"],"sourcesContent":["/**\n * Quepid Evaluation component for search-comparisons application.\n * \n * This component provides UI for evaluating search results against\n * Quepid judgments, calculating metrics like nDCG@10.\n */\nimport React, { useState, useEffect } from 'react';\nimport { experimentService } from '../services/api';\nimport {\n  Container,\n  Typography,\n  TextField,\n  Button,\n  Box,\n  Card,\n  CardContent,\n  Chip,\n  FormGroup,\n  FormControlLabel,\n  Checkbox,\n  Grid,\n  List,\n  ListItem,\n  ListItemText,\n  Alert,\n  CircularProgress,\n  Accordion,\n  AccordionSummary,\n  AccordionDetails,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Divider\n} from '@mui/material';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n\n// Available search sources\nconst AVAILABLE_SOURCES = [\n  { id: 'ads', name: 'ADS/SciX' },\n  { id: 'scholar', name: 'Google Scholar' },\n  { id: 'semantic_scholar', name: 'Semantic Scholar' },\n  { id: 'web_of_science', name: 'Web of Science' }\n];\n\nconst QuepidEvaluation = () => {\n  // State for search parameters\n  const [query, setQuery] = useState('');\n  const [caseId, setCaseId] = useState('');\n  const [maxResults, setMaxResults] = useState(20);\n  const [selectedSources, setSelectedSources] = useState(['ads', 'scholar', 'semantic_scholar']);\n  \n  // State for UI\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n  const [results, setResults] = useState(null);\n  \n  // Function to toggle a search source\n  const toggleSource = (sourceId) => {\n    if (selectedSources.includes(sourceId)) {\n      setSelectedSources(selectedSources.filter(id => id !== sourceId));\n    } else {\n      setSelectedSources([...selectedSources, sourceId]);\n    }\n  };\n  \n  // Function to evaluate search results with Quepid\n  const handleEvaluate = async () => {\n    // Clear previous state\n    setError(null);\n    setSuccessMessage(null);\n    setResults(null);\n    \n    // Validate inputs\n    if (!query.trim()) {\n      setError('Please enter a search query');\n      return;\n    }\n    \n    if (!caseId || isNaN(parseInt(caseId))) {\n      setError('Please enter a valid case ID');\n      return;\n    }\n    \n    if (selectedSources.length === 0) {\n      setError('Please select at least one search source');\n      return;\n    }\n    \n    // Prepare the evaluation request\n    const evaluationRequest = {\n      query: query.trim(),\n      sources: selectedSources,\n      case_id: parseInt(caseId),\n      max_results: maxResults\n    };\n    \n    // Call the API\n    setIsLoading(true);\n    \n    try {\n      const response = await experimentService.evaluateWithQuepid(evaluationRequest);\n      \n      if (response.error) {\n        setError(response.message || 'Error evaluating search results');\n      } else {\n        setResults(response);\n        setSuccessMessage('Evaluation completed successfully');\n      }\n    } catch (error) {\n      setError('Error connecting to the server');\n      console.error('Quepid evaluation error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // Function to render the evaluation results\n  const renderResults = () => {\n    if (!results) return null;\n    \n    return (\n      <Box mt={4}>\n        <Typography variant=\"h5\" gutterBottom>\n          Evaluation Results for \"{results.query}\"\n        </Typography>\n        \n        <Box mb={2}>\n          <Chip \n            label={`Case: ${results.case_name}`} \n            color=\"primary\" \n            variant=\"outlined\" \n            sx={{ marginRight: 1 }}\n          />\n          <Chip \n            label={`Total judged: ${results.total_judged}`} \n            color=\"primary\" \n            variant=\"outlined\" \n            sx={{ marginRight: 1 }}\n          />\n          <Chip \n            label={`Total relevant: ${results.total_relevant}`} \n            color=\"primary\" \n            variant=\"outlined\"\n          />\n        </Box>\n        \n        {results.available_queries && results.available_queries.length > 0 && (\n          <Alert severity=\"info\" sx={{ mb: 2 }}>\n            <Typography variant=\"body2\">\n              Note: The exact query was not found. Here are some available queries in this case:\n            </Typography>\n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1, mt: 1 }}>\n              {results.available_queries.map((q, i) => (\n                <Chip \n                  key={i} \n                  label={q}\n                  size=\"small\"\n                  onClick={() => setQuery(q)}\n                  color=\"primary\"\n                />\n              ))}\n            </Box>\n          </Alert>\n        )}\n        \n        <TableContainer component={Paper}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>Source</TableCell>\n                <TableCell>nDCG@10</TableCell>\n                <TableCell>Precision@10</TableCell>\n                <TableCell>Recall</TableCell>\n                <TableCell>Judged/Relevant</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {results.source_results.map((sourceResult) => {\n                // Find metrics\n                const ndcg10 = sourceResult.metrics.find(m => m.name === 'ndcg@10');\n                const precision10 = sourceResult.metrics.find(m => m.name === 'p@10');\n                const recall = sourceResult.metrics.find(m => m.name === 'recall');\n                \n                return (\n                  <TableRow key={sourceResult.source}>\n                    <TableCell>{getSourceName(sourceResult.source)}</TableCell>\n                    <TableCell>{ndcg10 ? ndcg10.value.toFixed(3) : 'N/A'}</TableCell>\n                    <TableCell>{precision10 ? precision10.value.toFixed(3) : 'N/A'}</TableCell>\n                    <TableCell>{recall ? recall.value.toFixed(3) : 'N/A'}</TableCell>\n                    <TableCell>\n                      {sourceResult.judged_retrieved}/{sourceResult.relevant_retrieved} of {sourceResult.results_count}\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        \n        <Box mt={4}>\n          <Typography variant=\"h6\" gutterBottom>\n            Detailed Metrics\n          </Typography>\n          \n          {results.source_results.map((sourceResult) => (\n            <Accordion key={sourceResult.source}>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography>{getSourceName(sourceResult.source)}</Typography>\n              </AccordionSummary>\n              <AccordionDetails>\n                <TableContainer>\n                  <Table size=\"small\">\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>Metric</TableCell>\n                        <TableCell>Value</TableCell>\n                        <TableCell>Description</TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {sourceResult.metrics.map((metric, idx) => (\n                        <TableRow key={idx}>\n                          <TableCell>{metric.name}</TableCell>\n                          <TableCell>{metric.value.toFixed(3)}</TableCell>\n                          <TableCell>{metric.description}</TableCell>\n                        </TableRow>\n                      ))}\n                    </TableBody>\n                  </Table>\n                </TableContainer>\n              </AccordionDetails>\n            </Accordion>\n          ))}\n        </Box>\n      </Box>\n    );\n  };\n  \n  // Helper function to get source display name\n  const getSourceName = (sourceId) => {\n    const source = AVAILABLE_SOURCES.find(s => s.id === sourceId);\n    return source ? source.name : sourceId;\n  };\n  \n  return (\n    <Container maxWidth=\"lg\">\n      <Box my={4}>\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\n          Quepid Evaluation\n        </Typography>\n        \n        <Typography variant=\"body1\" paragraph>\n          Evaluate search results against Quepid relevance judgments to measure the effectiveness of search algorithms.\n        </Typography>\n        \n        <Card sx={{ mb: 4 }}>\n          <CardContent>\n            <Typography variant=\"h6\" gutterBottom>\n              Evaluation Parameters\n            </Typography>\n            \n            <Grid container spacing={3}>\n              <Grid item xs={12} md={6}>\n                <TextField\n                  label=\"Search Query\"\n                  fullWidth\n                  margin=\"normal\"\n                  value={query}\n                  onChange={(e) => setQuery(e.target.value)}\n                  placeholder=\"Enter search query\"\n                />\n              </Grid>\n              \n              <Grid item xs={12} md={6}>\n                <TextField\n                  label=\"Quepid Case ID\"\n                  fullWidth\n                  margin=\"normal\"\n                  value={caseId}\n                  onChange={(e) => setCaseId(e.target.value)}\n                  placeholder=\"Enter your Quepid case ID\"\n                  type=\"number\"\n                />\n              </Grid>\n              \n              <Grid item xs={12} md={6}>\n                <TextField\n                  label=\"Max Results\"\n                  fullWidth\n                  margin=\"normal\"\n                  value={maxResults}\n                  onChange={(e) => setMaxResults(parseInt(e.target.value) || 20)}\n                  placeholder=\"Maximum number of results\"\n                  type=\"number\"\n                />\n              </Grid>\n              \n              <Grid item xs={12} md={6}>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  Search Sources\n                </Typography>\n                <FormGroup>\n                  {AVAILABLE_SOURCES.map((source) => (\n                    <FormControlLabel\n                      key={source.id}\n                      control={\n                        <Checkbox\n                          checked={selectedSources.includes(source.id)}\n                          onChange={() => toggleSource(source.id)}\n                        />\n                      }\n                      label={source.name}\n                    />\n                  ))}\n                </FormGroup>\n              </Grid>\n            </Grid>\n            \n            <Box mt={3} textAlign=\"center\">\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleEvaluate}\n                disabled={isLoading}\n                size=\"large\"\n              >\n                {isLoading ? <CircularProgress size={24} /> : 'Evaluate Search Results'}\n              </Button>\n            </Box>\n            \n            {error && (\n              <Alert severity=\"error\" sx={{ mt: 2 }}>\n                {error}\n              </Alert>\n            )}\n            \n            {successMessage && (\n              <Alert severity=\"success\" sx={{ mt: 2 }}>\n                {successMessage}\n              </Alert>\n            )}\n          </CardContent>\n        </Card>\n        \n        {renderResults()}\n      </Box>\n    </Container>\n  );\n};\n\nexport default QuepidEvaluation; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}